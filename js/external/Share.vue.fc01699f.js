import{_ as j}from"./InfoTooltip.vue.739990f2.js";/* empty css                        */import{d as M,y as L,a as A,o as n,c as _,b as a,t as y,r as F,aB as G,aC as H,k as h,w as D,f as w,i as B,h as x,F as P,j as Y,aw as q,g as N,e as C}from"./entry.8bd29e6a.js";import{j as z,u as K,l as J,s as Q}from"./utils.11774da7.js";import{_ as W}from"./RatingAverageBar.vue.212facb9.js";import{_ as X}from"./NetworkingChart.vue.e1893fe2.js";import{_ as Z}from"./nuxt-icon.vue.2d6fd5e1.js";/* empty css                      */import ee from"./Icon.56e74129.js";import{u as te}from"./useMetaStore.36382d3f.js";const ae={class:"text-primary font-bold text-xs"},se=["src"],le=["src"],ne={class:"text-primary font-bold text-lg"},oe=M({__name:"PremiumContentLabel",props:{iconUrl:{default:"/img/check-and-premium-icons/upgrade-icon.svg"},captionText:{default:"Upgrade to Premium"},mode:{}},setup(T){const e=L(),u=z(),c=A(()=>e.getUserPlan),S=()=>{JSON.parse(localStorage.getItem("is-user-auth")||"false")?c.value===0&&(u.setGatedModalState(!0),u.setTargetData(!0)):u.setGatedModalState(!0)};return(m,t)=>m.mode==="small"?(n(),_("div",{key:0,class:"flex items-center gap-1 cursor-pointer",onClick:S},[a("span",ae,y(m.captionText),1),a("img",{src:m.iconUrl,width:"20",height:"20",alt:"Upgrade to Premium"},null,8,se)])):(n(),_("div",{key:1,class:"flex items-center gap-1 cursor-pointer",onClick:S},[a("img",{src:m.iconUrl,width:"42",height:"42",alt:"Upgrade to Premium"},null,8,le),a("span",ne,y(m.captionText),1)]))}}),ie={class:"mt-16"},re={class:"flex items-center border-b-[1px] border-[#ECECF4] pb-2"},ue=a("p",{class:"mr-2 text-xl font-bold text-black w-max"},"At a Glance",-1),ce=["src"],de={class:"md:flex justify-between mt-5"},me={class:"rounded-lg border-[1px] border-[#ECECF4] md:w-1/2 mr-0 md:mr-5 lg:mr-8 xl:md:mr-32"},_e={class:"xl:flex h-full"},ge={class:"border-[#ECECF4] xl:border-r-[1px] p-5 last:border-r-0 flex flex-col"},ve=a("p",{class:"text-grey-light-grey text-sm font-medium mb-0"},"Analyst Rating Distribution",-1),he={key:1,class:"flex items-end flex-wrap md:flex-nowrap gap-5"},pe={class:"text-[22px] font-bold text-black whitespace-nowrap"},xe={class:"border-[#ECECF4] xl:border-r-[1px] last:border-r-0 p-5 flex flex-col"},fe=a("p",{class:"text-grey-light-grey text-sm font-medium"},"Buys to Sells Ratio",-1),be={key:0,class:"flex items-center pb-[1px] gap-2"},Ce={key:0,class:"text-[22px] font-bold text-black whitespace-nowrap"},ye={key:1,class:"text-[22px] font-bold text-black whitespace-nowrap"},ke={key:0,class:"max-w-[600px] rounded-md border-[1px] border-[#ECECF4] mt-5 md:mt-0 py-2 px-4 md:w-1/2"},we={class:"flex-col md:flex-row items-center flex"},Se={class:"w-full grid grid-cols-2 md:grid-cols-1 xl:grid-cols-3 gap-x-6 gap-y-3 p-2 flex-1"},Ee={class:"text-nav-grey tex-sm"},Be={key:1,class:"flex justify-between"},qe=M({__name:"AtGlanceSection",props:{ratingsData:{default:()=>({buysCount:0,holdsCount:0,sellsCount:0})},alignmentData:{}},setup(T){const e=T;K();const u=L(),c=A(()=>u.getUserPlan),S=A(()=>{var p,f,i;if((f=(p=e==null?void 0:e.alignmentData)==null?void 0:p.annual)!=null&&f.length)return J.sortBy((i=e==null?void 0:e.alignmentData)==null?void 0:i.annual.map(s=>{const l=s.bullishCount,d=s.bearishCount,r=s.neutralCount;switch(s.type){case"OPERATIONS":return{id:1,name:"Operation",value:l>r?"Bullish":d>l?"Bearish":"Neutral"};case"SENTIMENT":return{id:2,name:"Sentiment",value:l>r?"Bullish":d>l?"Bearish":"Neutral"};case"STRUCTURE":return{id:3,name:"Structure",value:l>r?"Bullish":d>l?"Bearish":"Neutral"};case"VALUATION":return{id:4,name:"Valuation",value:l>r?"Bullish":d>l?"Bearish":"Neutral"};case"DIVIDENDS":return{id:5,name:"Dividends",value:l>r?"Bullish":d>l?"Bearish":"Neutral"};case"CASH_MANAGEMENT":return{id:6,name:"Cash Mngt",value:l>r?"Bullish":d>l?"Bearish":"Neutral"};case"MARKET_DYNAMICS":return{id:7,name:"Market Dyn",value:l>r?"Bullish":d>l?"Bearish":"Neutral"}}}),["id"])}),m=A(()=>{var p,f,i,s,l,d,r,o,g;if((f=(p=e==null?void 0:e.alignmentData)==null?void 0:p.annual)!=null&&f.length){const v=(E,R)=>{var U,$;const V=Math.max(...(U=Object.values(E==null?void 0:E.find(b=>b.type===R)))==null?void 0:U.filter(b=>typeof b=="number")),I=($=Object.values(E==null?void 0:E.find(b=>b.type===R)))==null?void 0:$.filter(b=>typeof b=="number").reduce((b,O)=>b+O,0);return V/I*100};return{areaColor:c.value?"#6A38EB":"#848484",dataValue:[{title:"ST",value:v((i=e==null?void 0:e.alignmentData)==null?void 0:i.annual,"SENTIMENT")},{title:"MD",value:v((s=e==null?void 0:e.alignmentData)==null?void 0:s.annual,"MARKET_DYNAMICS")},{title:"CM",value:v((l=e==null?void 0:e.alignmentData)==null?void 0:l.annual,"CASH_MANAGEMENT")},{title:"DIV",value:v((d=e==null?void 0:e.alignmentData)==null?void 0:d.annual,"DIVIDENDS")},{title:"ST",value:v((r=e==null?void 0:e.alignmentData)==null?void 0:r.annual,"STRUCTURE")},{title:"VAL",value:v((o=e==null?void 0:e.alignmentData)==null?void 0:o.annual,"VALUATION")},{title:"OP",value:v((g=e==null?void 0:e.alignmentData)==null?void 0:g.annual,"OPERATIONS")}],lineColor:c.value?"#6A38EB":"#848484",customIndicatorLabels:{sentimentLabel:"ST",marketDynamics:"MD",cashManagement:"CM",dividends:"DIV",structure:"ST",valuation:"VAL",operations:"OP"}}}}),t=F({status:"",ratingPercentage:"",buysCount:0,sellsCount:0,maxRatingRatio:"",items:[{key:"sellsCount",value:0,color:"#F253451E",borderColor:"#FF342A"},{key:"holdsCount",value:0,color:"#5252861E",borderColor:"#52528666"},{key:"buysCount",value:0,color:"#64FF563A",borderColor:"#28A946"}]}),k=p=>{var d,r;const f=p||{};for(const o in f){const g=t.value.items.find(v=>(v==null?void 0:v.key)===o);g&&(g.value=f[o])}const i=((d=t.value.items.find(o=>o.key==="buysCount"))==null?void 0:d.value)||0,s=((r=t.value.items.find(o=>o.key==="sellsCount"))==null?void 0:r.value)||0;t.value.buysCount=i,t.value.sellsCount=s,t.value.status=i!==0||s!==0?i>s?"BUY":"SELL":"BUY";const l=t.value.items.reduce((o,g)=>o+(g==null?void 0:g.value)||0,0);t.value.ratingPercentage=i!==0||s!==0?(100*(i>s?i:s)/l).toFixed(0):"0",t.value.maxRatingRatio=i!==0||s!==0?Q(i>s?i/s:s/i,0,2):""};return G(()=>{k(e.ratingsData)}),H(()=>e.ratingsData,p=>{k(p)}),(p,f)=>{const i=j,s=oe,l=W,d=X,r=Z;return n(),_("div",ie,[a("div",re,[ue,h(i,{title:"At a Glance",description:"High level insights around analyst rating distributions, EquitySet alignment breakouts and aggregate dimensional alignments based on the underlying stock within the group.",class:""},{item:D(()=>[a("img",{src:"/img/pages/overview/info.svg",alt:"info"},null,8,ce)]),_:1})]),a("div",de,[a("div",me,[a("div",_e,[a("div",ge,[ve,c.value===0?(n(),w(s,{key:0,class:B("mt-1.5")})):c.value===1||c.value===2?(n(),_("div",he,[a("p",pe,y(t.value.ratingPercentage)+"% "+y(t.value.status),1),h(l,{options:t.value,class:B("min-w-[230px] pb-[7px]"),"round-corners":!1,"hide-items-with-zero-value":!0},null,8,["options"])])):x("",!0)]),a("div",xe,[fe,c.value===0?(n(),w(s,{key:0,class:B("mt-1.5")})):c.value===1||c.value===2?(n(),_(P,{key:1},[t.value.buysCount!==0||t.value.sellsCount!==0?(n(),_("div",be,[t.value.maxRatingRatio!==""&&!t.value.maxRatingRatio.includes("âˆž")?(n(),_("span",Ce,y(t.value.maxRatingRatio)+":1",1)):(n(),_("span",ye,"ALL")),a("span",{class:B(["text-sm font-bold",t.value.buysCount>t.value.sellsCount?"text-green":t.value.buysCount<t.value.sellsCount?"text-red":""])},"in favor of "+y(t.value.buysCount>t.value.sellsCount?"Buys":t.value.buysCount<t.value.sellsCount?"Sells":""),3)])):x("",!0)],64)):x("",!0)])])]),m.value||S.value?(n(),_("div",ke,[a("div",we,[m.value?(n(),w(d,{key:0,class:"h-[200px] w-full md:w-[200px]","area-color":m.value.areaColor,"data-value":m.value.dataValue,"line-color":m.value.lineColor,"custom-indicator-labels":m.value.customIndicatorLabels,radius:"60%",max:100},null,8,["area-color","data-value","line-color","custom-indicator-labels"])):x("",!0),a("div",Se,[(n(!0),_(P,null,Y(S.value,(o,g)=>(n(),_("div",{class:"basis-1/4 flex-1 border-b-[1px] border-[#ECECF4] pb-1",key:g},[a("p",Ee,y(o.name),1),c.value===0?(n(),w(s,{key:0,class:B("mt-1.5"),mode:"small",captionText:"Upgrade"})):c.value===1||c.value===2?(n(),_("div",Be,[a("p",{class:B(["font-medium text-xs",o.value==="Bullish"?"text-green":o.value==="Bearish"?"text-red":""])},y(o.value),3),o.value==="Bullish"?(n(),w(r,{key:0,class:"h-4 w-4 object-contain opacity-70 text-japanese-laurel",name:"img/pages/company/operations/bull-green"})):x("",!0),o.value==="Bearish"?(n(),w(r,{key:1,class:"h-4 w-4 object-contain opacity-70 text-torch-red",name:"img/pages/company/operations/bear-red"})):x("",!0),o.value==="Neutral"?(n(),w(r,{key:2,class:"h-4 w-4 object-contain opacity-70",name:"img/pages/market/scales"})):x("",!0)])):x("",!0)]))),128))])])])):x("",!0)])])}}}),De={class:"absolute left-full top-0 border bordder-black py-3 px-4 bg-white w-max min-w-[160px] right-0 shadow-lg rounded-[6px] z-20 border-athens-gray-second"},Ne={class:"text-md flex flex-col gap-1"},Ae={class:"flex items-center gap-1"},Te={class:"flex items-center gap-1"},Me={class:"flex items-center gap-1"},Re={class:"flex items-center gap-1"},Ue={class:"flex items-center gap-1 relative"},$e={key:0,class:"text-xs bg-green absolute text-white rounded px-1 -right-5 top-0"},ze=M({__name:"Share",setup(T){const e=F(!1),u=te(),c=()=>{navigator.clipboard.writeText(u.url),e.value=!0,setTimeout(()=>e.value=!1,500)};return(S,m)=>{const t=ee,k=q("ShareNetwork");return n(),_("div",De,[a("ul",Ne,[a("li",Ae,[h(t,{name:"fa6-brands:facebook"}),h(k,{network:"facebook",url:C(u).url,title:C(u).title,description:"",quote:""},{default:D(()=>[N(" Facebook ")]),_:1},8,["url","title"])]),a("li",Te,[h(t,{name:"fa6-brands:square-twitter"}),h(k,{network:"twitter",url:C(u).url,title:C(u).title},{default:D(()=>[N(" Twitter ")]),_:1},8,["url","title"])]),a("li",Me,[h(t,{name:"fa6-brands:linkedin"}),h(k,{network:"linkedin",url:C(u).url,title:C(u).title},{default:D(()=>[N(" LinkedIn ")]),_:1},8,["url","title"])]),a("li",Re,[h(t,{name:"ic:baseline-email"}),h(k,{network:"email",url:C(u).url,title:C(u).title,description:""},{default:D(()=>[N(" Email ")]),_:1},8,["url","title"])]),a("li",Ue,[h(t,{name:"material-symbols:content-copy"}),a("button",{onClick:c}," Copy Link "),C(e)?(n(),_("span",$e,"Copied")):x("",!0)])])])}}});export{qe as _,ze as a,oe as b};