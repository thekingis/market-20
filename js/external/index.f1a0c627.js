import{_ as Oe}from"./PremiumTag.d8455a13.js";import{_ as Ue}from"./UpgradeToPremiumButton.vue.39f994fb.js";import{d as ie,y as Te,a as I,r as V,aC as se,o as x,c as S,b as o,i as G,e as J,F as le,g as ve,t as X,j as pe,aK as De,h as W,f as me,k as Q,bf as Ee,w as be,p as Ne,z as ke,v as Pe,bR as de,b3 as ue,l as Le,a$ as Se,b0 as ye,ay as Fe,az as Be,bu as Ie,aB as Ve}from"./entry.8bd29e6a.js";import{n as ce,j as je,$ as Je,u as we,l as Ye}from"./utils.11774da7.js";import{_ as Me}from"./nuxt-icon.vue.2d6fd5e1.js";/* empty css                      */import{_ as Re}from"./DropdownSelect.vue.398b244e.js";import{_ as Qe}from"./nuxt-link.a6eea277.js";import{_ as He}from"./PreScreenedIdeas.vue.f00ad3bd.js";import{_ as ze}from"./TableButtonsMenu.vue.07164b0e.js";import{f as Ke,_ as Ge,a as We,b as qe}from"./filter-data.048233da.js";import{_ as Xe}from"./SmallLoader.a34eb8b6.js";import{_ as Ze}from"./Table.vue.fe38c24a.js";/* empty css                  */import{_ as et}from"./FilterPivot.73c1a929.js";import{_ as tt}from"./_plugin-vue_export-helper.c27b6911.js";import{u as st}from"./useIdeasStore.76560d63.js";import"./image-options.0ae7f2f4.js";import"./HeaderButtons.vue.2ebf6143.js";import"./ThreeCircleDropBtn.vue.c33fc0c3.js";import"./useClickOutsideUpdated.43723e42.js";import"./useWatchlistStore.a64354a0.js";import"./useTriggersStore.ac1fc0eb.js";import"./useMetaStore.36382d3f.js";import"./useNewsStore.16e48ef7.js";import"./SwitchCheckBox.vue.26346bdb.js";import"./FormCheckbox.vue.e7c6dfe6.js";import"./FilterPivot.vue.90cc88c0.js";const at=o("b",null,"Screener: ",-1),nt=["src"],rt={key:0},ot=["onClick"],lt={class:"text-sm w-full text-footer-nav"},it=["onClick"],ct=["src"],dt=o("p",{class:"text-sm w-full text-footer-nav"},"Create New Screener",-1),ut=[dt],vt={key:1},pt={class:"flex items-center justify-center py-3 px-4"},mt=["src"],ft=o("span",{class:"text-sm font-light text-footer-nav px-2"},"Access your customized saved screens through here",-1),gt={key:0,class:"p-3 border-t border-grey-bg-footer flex justify-center"},xt=ie({__name:"ScreenerDropdown",setup(Z){const b=Te(),g=I(()=>b.getUserPlan),d=ce(),c=I(()=>d.getScreeners),T=I(()=>d.getCurrentScreener),$=V(!1),C=V(""),L=p=>{d.getIsUnsavedChanges?d.setUnsavedChangesScreenerModal(p):(C.value=(p==null?void 0:p.name)||"",d.setActiveScreener(p)),$.value=!1};se(()=>d.getCurrentScreener,p=>{C.value=(p==null?void 0:p.name)||""},{deep:!0,immediate:!0});const U=p=>{d.setDeleteScreenerModalOpen(p),$.value=!1};return(p,w)=>{var te;const j=Oe,H=Ue;return x(),S("div",{class:G(["bg-white shadow-sm border-[1px] border-mischka rounded-[6px] relative w-auto inline-block",{"border-primary text-primary":J($)}])},[o("div",{class:"py-2.5 px-4 flex items-center cursor-pointer",onClick:w[0]||(w[0]=z=>$.value=!J($))},[o("p",{class:G(["mr-3 text-sm font-medium text-grey-white whitespace-nowrap",{"text-primary":J($)}])},[J(C)?(x(),S(le,{key:0},[at,ve(" "+X(J(C)),1)],64)):(x(),S(le,{key:1},[ve("Saved Screens")],64))],2),o("img",{class:G({"rotate-180":J($)}),src:"/img/search/arrow-down.svg",alt:"arrow down icon"},null,10,nt)]),o("div",{class:G(["max-h-[400px] min-w-[290px] max-w-[350px] block w-max z-50 shadow-md overflow-auto absolute border-[1px] border-mischka right-0 top-[45px] rounded-[6px] bg-white",{hidden:!J($)}])},[o("div",null,[(te=J(c))!=null&&te.length?(x(),S("div",rt,[(x(!0),S(le,null,pe(J(c),z=>(x(),S("div",{class:"flex items-center justify-between w-full cursor-pointer py-3 px-4",onClick:ee=>L(z)},[o("p",lt,X(z.name),1),o("button",{onClick:De(ee=>U(z.id),["stop"])},[o("img",{src:"/img/screener/icons/trash.svg",alt:"delete"},null,8,ct)],8,it)],8,ot))),256)),J(T)?(x(),S("div",{key:0,class:"flex items-center justify-between w-full cursor-pointer py-3 px-4",onClick:w[1]||(w[1]=z=>L(void 0))},ut)):W("",!0)])):(x(),S("div",vt,[o("div",pt,[o("img",{src:"/img/screener/icons/expand.svg",alt:"expand"},null,8,mt),ft,J(g)?W("",!0):(x(),me(j,{key:0}))]),J(g)?W("",!0):(x(),S("div",gt,[Q(H,{label:"Upgrade to Premium to Access","button-class":"text-sm py-2.5 px-4"})]))]))])],2)],2)}}}),_t={class:"md:flex items-center justify-between"},bt=o("span",{class:"text-footer-nav text-[30px] font-bold"},"Screener",-1),ht={class:"pl-2 text-xs text-profile-icon"},St={class:"flex md:flex-row flex-col"},yt=ie({__name:"TitleHead",setup(Z){const b=ce(),g=je(),d=Te(),c=I(()=>b.getIsEqualFilter),T=I(()=>b.getDisableFilters),$=I(()=>b.getCurrentScreener),C=I(()=>Je()),L=(U=!1)=>{d.getUserPlan?(b.setModalScreenerOpen(!0),b.setIsUpdateScreener(U)):(g.setGatedModalState(!0),g.setTargetData(!0))};return se(()=>d.getIsLoggedIn,async U=>{U&&!b.getScreeners&&await b.fetchScreeners()},{immediate:!0}),(U,p)=>{const w=xt,j=Me;return x(),S("div",_t,[o("div",null,[bt,o("span",ht,"Updated:"+X(C.value),1)]),o("div",St,[Q(w),o("button",{class:G([{"!pointer-events-none !cursor-not-allowed !bg-secondary-text !opacity-40":c.value||T.value},"text-sm leading-5 bg-primary text-white font-medium rounded-md px-4 py-2.5 md:ml-7 md:my-0 mt-3 disabled:bg-[#78809166]"]),onClick:p[0]||(p[0]=()=>L($.value&&!0))},"Save Screen ",2),$.value?(x(),S("button",{key:0,class:G([{"!pointer-events-none !cursor-not-allowed !border-secondary-text !text-secondary-text !opacity-40 ":c.value||T.value},"inline-flex shrink-0 gap-2 text-sm leading-5 font-medium text-primary rounded-md border px-4 py-2.5 md:ml-6 md:my-0 mt-3 disabled:bg-[#78809166]"]),onClick:p[1]||(p[1]=()=>L())},[Q(j,{width:"20",height:"20",class:"w-[20px] h-[20px]",name:"img/screener/icons/plus-new"}),ve(" Save New ")],2)):W("",!0)])])}}}),kt=o("div",{class:"font-semibold absolute w-full h-full left-0 top-0 bg-[#4D04AB] bg-opacity-80 flex gap-4 items-center justify-center text-white rounded-[6px] opacity-0 hover:opacity-100 transition-all"},[o("p",{class:"text-[#FFF]"},"Apply filter"),o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",viewBox:"0 0 20 17",fill:"none"},[o("path",{d:"M8.5 0V17",stroke:"white","stroke-width":"2"}),o("path",{d:"M17 8.5L0 8.5",stroke:"white","stroke-width":"2"})])],-1),wt={class:"h-full w-full sm:w-[200px] md:w-[90px]"},Ct=["src","alt"],At={class:"flex-1 p-4 flex flex-col h-full w-full justify-center"},$t={class:"font-bold text-[18px] text-footer-nav mt-0 mb-2"},Tt={class:"font-normal text-sm text-grey-white mb-4"},Nt={class:"flex gap-4 items-start"},Mt=ie({__name:"OverviewInvestmentsNotionsPreScreenedCard",props:{item:{default:void 0}},emits:["setScreenerEmit"],setup(Z,{emit:b}){const g=c=>{if(c){const T=new URL(c,window.location.origin);return c.replace(T.origin,"")}return""},d=Ee("setScreener");return(c,T)=>{var C,L;const $=Qe;return c.item.attributes||c.item?(x(),me($,{key:0,href:g((L=(C=c.item)==null?void 0:C.attributes)==null?void 0:L.link),onClick:T[0]||(T[0]=U=>{c.$emit("setScreenerEmit"),J(d)(c.item.attributes.title)}),class:"relative cursor-pointer flex flex-col sm:flex-row items-center border-[1px] border-breaking-border rounded-[6px] bg-breaking-card shadow-[0_1px_3px_rgba(0,0,0,0.1),0_1px_2px_rgba(0,0,0,0.06)]"},{default:be(()=>{var U,p,w,j,H,te,z,ee,ae,ne,re,K,P,D,oe,v,e,s;return[kt,o("div",wt,[(H=(j=(w=(p=(U=c.item)==null?void 0:U.attributes)==null?void 0:p.image)==null?void 0:w.data)==null?void 0:j.attributes)!=null&&H.url?(x(),S("img",{key:0,class:"h-[180px] md:h-full w-full object-cover rounded-l-[6px]",src:(ne=(ae=(ee=(z=(te=c.item)==null?void 0:te.attributes)==null?void 0:z.image)==null?void 0:ee.data)==null?void 0:ae.attributes)==null?void 0:ne.url,alt:(K=(re=c.item)==null?void 0:re.attributes)==null?void 0:K.title},null,8,Ct)):W("",!0)]),o("div",At,[o("h4",$t,X((D=(P=c.item)==null?void 0:P.attributes)==null?void 0:D.title),1),o("p",Tt,X((v=(oe=c.item)==null?void 0:oe.attributes)==null?void 0:v.description.split("â€¢",1)[0]),1),o("div",Nt,[(x(!0),S(le,null,pe((s=(e=c.item)==null?void 0:e.attributes)==null?void 0:s.tags,a=>(x(),S("div",{class:"bg-[#F8F2FF] text-primary font-bold p-2 rounded-lg text-[11px]",key:a.id},X(a.tag),1))),128))])])]}),_:1},8,["href"])):W("",!0)}}}),Rt={class:"p-3.5 px-6 border-[1px] border-border bg-white rounded-lg"},Ot=o("div",{class:"relative mb-4"},[o("p",{class:"text-center text-footer-nav leading-3 font-semibold"},"Advanced Filters")],-1),Ut={class:"border-grey-bg-footer border-b-[2px] mb-1 md:flex items-center justify-between"},Dt=["onClick"],Et={key:0,class:"w-[5px] h-[5px] block absolute bg-primary right-[-10px] top-[-2px] rounded-md"},Pt={class:"relative"},Lt=ie({__name:"AdvancedFilters",props:{period:{},filterData:{}},emits:["changeFilter"],setup(Z,{emit:b}){const g=Z,d=V(null),c=ce(),T=I(()=>c.getAdvancedFiltersVisible),$=V(!0);V(),we(),I(()=>g.period.id);const C=I(()=>c.getStarterFilterData);Ne(),ke();const L={summary:de(()=>ue(()=>import("./FilterSummary.b331fffe.js"),["./FilterSummary.b331fffe.js","./entry.8bd29e6a.js","./entry.4e22f1d3.css","./utils.11774da7.js","./image-options.0ae7f2f4.js"],import.meta.url)),general:de(()=>ue(()=>import("./FilterGeneral.a5bf4b97.js"),["./FilterGeneral.a5bf4b97.js","./AdvancedFilterHeader.vue.e590426d.js","./entry.8bd29e6a.js","./entry.4e22f1d3.css","./AdvancedFilterSlider.vue.48c7adac.js","./AdvancedFilterSlider.298ac9e0.css","./AdvancedFilterSliderTags.vue.fe311f92.js","./AdvancedFilterButtonTags.vue.9d4c9225.js","./AdvancedFilterCheckbox.vue.12a8bb94.js","./FormCheckbox.vue.e7c6dfe6.js","./AdvancedFilterMultiCheckboxesDouble.vue.90938074.js","./Accordion.vue.27629cdf.js","./FilterGeneral.1b83e239.css"],import.meta.url)),sentiment:de(()=>ue(()=>import("./FilterSentiment.a22bccc3.js"),["./FilterSentiment.a22bccc3.js","./AdvancedFilterHeader.vue.e590426d.js","./entry.8bd29e6a.js","./entry.4e22f1d3.css","./AdvancedFilterRadioSlider.vue.a97211a9.js","./RatioBox.vue.9254e0d8.js","./AdvancedFilterSlider.vue.48c7adac.js","./AdvancedFilterSlider.298ac9e0.css","./AdvancedFilterSliderTags.vue.fe311f92.js","./AdvancedFilterButtonTags.vue.9d4c9225.js","./AdvancedFilterDropdowns.vue.01964887.js","./AdvancedFilterDropdown.vue.09f7f486.js","./nuxt-icon.vue.2d6fd5e1.js","./nuxt-icon.4544dae2.css","./Accordion.vue.27629cdf.js"],import.meta.url)),ratios:de(()=>ue(()=>import("./FilterRatios.6a6f1a78.js"),["./FilterRatios.6a6f1a78.js","./AdvancedFilterHeader.vue.e590426d.js","./entry.8bd29e6a.js","./entry.4e22f1d3.css","./AdvancedFilterDropdownsDouble.vue.97f559a3.js","./AdvancedFilterDropdown.vue.09f7f486.js","./nuxt-icon.vue.2d6fd5e1.js","./nuxt-icon.4544dae2.css"],import.meta.url)),dividends:de(()=>ue(()=>import("./FilterDividends.ba8610df.js"),["./FilterDividends.ba8610df.js","./AdvancedFilterHeader.vue.e590426d.js","./entry.8bd29e6a.js","./entry.4e22f1d3.css","./AdvancedFilterSliderTags.vue.fe311f92.js","./AdvancedFilterSlider.vue.48c7adac.js","./AdvancedFilterSlider.298ac9e0.css","./AdvancedFilterButtonTags.vue.9d4c9225.js","./AdvancedFiltersTimeDropdowns.vue.d4cde95e.js","./FormCheckbox.vue.e7c6dfe6.js","./useClickOutsideUpdated.43723e42.js","./index.3f0d1896.js","./index.35e4c453.css","./_plugin-vue_export-helper.c27b6911.js","./AdvancedFiltersTimeDropdowns.e6571157.css","./SwitchCheckBox.vue.26346bdb.js"],import.meta.url)),technical:de(()=>ue(()=>import("./FilterTechnical.213b87fc.js"),["./FilterTechnical.213b87fc.js","./AdvancedFilterHeader.vue.e590426d.js","./entry.8bd29e6a.js","./entry.4e22f1d3.css","./RatioBox.vue.9254e0d8.js","./AdvancedFilterSlider.vue.48c7adac.js","./AdvancedFilterSlider.298ac9e0.css","./AdvancedFilterButtonTags.vue.9d4c9225.js","./FormCheckbox.vue.e7c6dfe6.js","./AdvancedFilterDropdown.vue.09f7f486.js","./nuxt-icon.vue.2d6fd5e1.js","./nuxt-icon.4544dae2.css"],import.meta.url)),financials:de(()=>ue(()=>import("./FilterFinancials.b2d82665.js"),["./FilterFinancials.b2d82665.js","./AdvancedFilterHeader.vue.e590426d.js","./entry.8bd29e6a.js","./entry.4e22f1d3.css","./AdvancedFilterDropdowns.vue.01964887.js","./AdvancedFilterDropdown.vue.09f7f486.js","./nuxt-icon.vue.2d6fd5e1.js","./nuxt-icon.4544dae2.css","./AdvancedFilterDropdownsDouble.vue.97f559a3.js"],import.meta.url))},U=V({active:"summary",items:[{id:"summary",title:"SUMMARY",active:!0,someSelect:!1},{id:"general",title:"GENERAL",active:!1,someSelect:!1},{id:"sentiment",title:"SENTIMENT",someSelect:!1},{id:"ratios",title:"RATIOS",someSelect:!1},{id:"financials",title:"FINANCIALS",someSelect:!1},{id:"dividends",title:"DIVIDENDS & EARNINGS",someSelect:!1}]}),p=I(()=>U.value.active),w=({item:e,field:s,tab:a})=>{s==="industryIds"?(d.value[a||p.value][s].items=d.value[a||p.value][s].items.map(u=>{var t;return{...u,industries:(t=u.industries)==null?void 0:t.map(E=>E.value===e.value?{...E,selected:!E.selected}:{...E})}}),d.value[a||p.value][s].checkboxSelected=d.value[a||p.value][s].items.some(u=>{var t;return(t=u.industries)==null?void 0:t.some(E=>E.selected)})):(e.selected=!e.selected,d.value[a||p.value][s].checkboxSelected=d.value[a||p.value][s].items.some(u=>u.selected))},j=({item:e,field:s,tab:a,periodicity:u})=>{e.selected=!e.selected,d.value[a||p.value][s][u]=d.value[a||p.value][s][u].map((t,E,r)=>{var O,n;const A=r.find(_=>_.id===e.id-1),N=r.find(_=>_.id===e.id+1);return r.filter(_=>_.selected===!0).length?A!=null&&A.selected?(O=r.find(_=>_.id===e.id-2))!=null&&O.selected?t.id===e.id+1||t.id===e.id-1?{...t,enabled:!t.enabled}:t:t.id===e.id+1?{...t,enabled:!t.enabled}:t:N!=null&&N.selected?(n=r.find(_=>_.id===e.id+2))!=null&&n.selected?t.id===e.id+1||t.id===e.id-1?{...t,enabled:!t.enabled}:t:t.id===e.id-1?{...t,enabled:!t.enabled}:t:t.id===e.id||t.id===e.id+1||t.id===e.id-1?{...t,enabled:!0}:{...t,enabled:!1}:{...t,enabled:!0}})},H=({field:e,tab:s})=>{d.value[s||p.value][e].selected=!d.value[s||p.value][e].selected},te=({event:e,field:s,rangeMax:a,tab:u})=>{d.value[u||p.value][s].value=e},z=({item:e,field:s,tab:a})=>{d.value[a||p.value][s].items=d.value[a||p.value][s].items.map(u=>({...u,select:u.id===e.id})),d.value[a||p.value][s].ratioSelected=e.id},ee=({field:e,item:s,event:a,second:u})=>{u?s.active2=a:s.active=a},ae=({field:e,item:s,tab:a})=>{d.value[a||p.value][e].buttonTags=d.value[a||p.value][e].buttonTags.map(u=>({...u,active:u.id===s.id})),d.value[a||p.value][e].buttonSelected=s.id,d.value[a||p.value][e].value=s.sliderValue},ne=({type:e,event:s,field:a,tab:u})=>{e==="from"&&s.value>d.value[u||p.value][a].endDate.active?d.value[u||p.value][a]={...d.value[u||p.value][a],fromDate:{...d.value[u||p.value][a].fromDate,active:s.value},endDate:{...d.value[u||p.value][a].endDate,active:s.value}}:d.value[u||p.value][a][`${e}Date`].active=s.value},re=({item:e,field:s,tab:a})=>{d.value[a||p.value][s][e]=!d.value[a||p.value][s][e]},K=(e,s)=>{switch(e){case"switch":re(s);break;case"timeDropdown":ne(s);break;case"buttonTag":ae(s);break;case"dropdownItem":ee(s);break;case"ratio":z(s);break;case"range":te(s);break;case"singleCheckbox":H(s);break;case"checkbox":w(s);break;case"multiCheckbox":j(s);break}c.setIsUnsavedChanges(!0),b("changeFilter",d.value)},P=e=>{U.value.items=U.value.items.map(s=>({...s,active:s.id===e})),U.value.active=e},D=e=>{c.setAdvancedFilterResetModal(e)},oe=e=>{c.setAdvancedFilterResetModal(e)},v=()=>{c.setAdvancedFilterResetModal({all:!0})};return se(()=>d.value,()=>{U.value.items=U.value.items.map(e=>({...e,someSelect:!Ye.isEqual(d.value[e.id],C.value[e.id])}))},{deep:!0}),se(()=>T.value,e=>{e?setTimeout(()=>{$.value=!1},500):$.value=!0}),se(()=>g.filterData,e=>{d.value=e}),(e,s)=>(x(),S("div",{class:G(["transition-all duration-500 grid dropdown mt-6",T.value?"grid-rows-[1fr]":"grid-rows-[0fr]"])},[o("div",{class:G({"overflow-hidden":$.value})},[o("div",Rt,[Ot,o("div",Ut,[o("div",null,[(x(!0),S(le,null,pe(U.value.items,a=>(x(),S("button",{key:a.id,class:G(["mr-8 relative font-semibold text-xs leading-4",[a.active?"text-primary underline md:underline-offset-[16px] underline-offset-[8px]":"text-tabs"]]),onClick:u=>P(a.id)},[ve(X(a.title)+" ",1),a.someSelect?(x(),S("span",Et)):W("",!0)],10,Dt))),128))]),o("button",{onClick:v,class:"text-grey-white md:mt-0 mt-4 text-xs leading-4 font-medium border border-mischka rounded-md px-2 py-1.5 mb-3"},"Reset All")]),o("div",Pt,[(x(),me(Pe(L[U.value.active]),{"filter-data":e.filterData,onSelectFilterCheckbox:s[0]||(s[0]=a=>K("checkbox",a)),onSelectFilterMultiCheckbox:s[1]||(s[1]=a=>K("multiCheckbox",a)),onSelectFilterSingleCheckbox:s[2]||(s[2]=a=>K("singleCheckbox",a)),onSelectFilterRange:s[3]||(s[3]=a=>K("range",a)),onSelectFilterRatio:s[4]||(s[4]=a=>K("ratio",a)),onSelectDropdownItem:s[5]||(s[5]=a=>K("dropdownItem",a)),onSelectButtonTag:s[6]||(s[6]=a=>K("buttonTag",a)),onSelectFilterTime:s[7]||(s[7]=a=>K("timeDropdown",a)),onChangeFilterSwitch:s[8]||(s[8]=a=>K("switch",a)),onClearFilterSection:D,onAddFilter:s[9]||(s[9]=a=>P(a)),onClearFiltersTab:s[10]||(s[10]=a=>oe(a))},null,40,["filter-data"]))])])],2)],2))}}),Ft={key:0,class:"fixed top-0 left-0 bg-[#6B728070] w-screen h-screen flex justify-center items-center z-[200]"},Bt={ref:"modalBox",class:"bg-white animation-box overflow-hidden rounded-lg md:w-6/12 w-full mx-2 px-5 py-6 max-w-[340px]"},It={class:"flex relative"},Vt=o("p",{class:"font-semibold text-notification-other-title w-full text-center"},"Clear filters",-1),jt=["src"],Jt=o("p",{class:"text-sm text-footer-nav mt-6"},"This will reset any filters you have applied the section. Are you sure you want to clear them?",-1),Yt={class:"mt-6 flex items-center gap-3"},Qt=ie({__name:"AdvancedFilterResetModal",setup(Z){const b=ce(),g=I(()=>b.getAdvancedFilterResetModal);return(d,c)=>J(g)?(x(),S("div",Ft,[o("div",Bt,[o("div",It,[Vt,o("button",{onClick:c[0]||(c[0]=T=>J(b).setAdvancedFilterResetModal(!1)),class:"absolute right-0"},[o("img",{src:"/img/screener/icons/cross.svg",alt:"cross"},null,8,jt)])]),Jt,o("div",Yt,[o("button",{onClick:c[1]||(c[1]=T=>J(b).setAdvancedFilterResetModal(!1)),class:"py-2.5 px-4 border-[1px] border-mischka rounded-md w-full"}," No "),o("button",{onClick:c[2]||(c[2]=T=>{d.$emit("resetFilter",J(g)),J(b).setAdvancedFilterResetModal(null)}),class:"py-2.5 px-4 border-[1px] border-primary w-full bg-primary rounded-md text-white"}," Yes ")])],512)])):W("",!0)}}),Ht={class:"flex lg:flex-row flex-col flex-wrap lg:flex-nowrap gap-x-3 gap-y-4 items-center pt-3"},zt={class:"text-sm text-grey-white whitespace-nowrap pr-1"},Kt=ie({__name:"FiltersMenu",emits:["changePeriod"],setup(Z,{emit:b}){const g=V(),d=we(),c=ce(),T=I(()=>c.getAdvancedFiltersVisible),$=I(()=>c.getDisableFilters),C=I(()=>c.getStarterFilterData),L=I(()=>c.getFilterSummary.reduce((e,s)=>e+s.count,0)),U=Ne(),p=ke(),w=V([{prefix:"Total Alignment:",active:null,key:"dimensionSummaries",items:[{title:"All",id:0},{title:"Only Bullish",id:"BULLISH"},{title:"Only Bearish",id:"BEARISH"},{title:"Only Neutral",id:"NEUTRAL"}]},{prefix:"EquitySet FV:",active:null,key:"fairValueDifference",items:[{title:"All",id:0,operator:"",value:[]},{title:"Above Price",id:1,operator:"LT",value:[0]},{title:"Below Price",id:2,operator:"GT",value:[0]}]},{prefix:"Analyst Rating:",active:null,key:"analystRatings",items:[{title:"All",id:""},{title:"Buy",id:"BUY"},{title:"Hold",id:"HOLD"},{title:"Sell",id:"SELL"}]},{prefix:"Price Target:",active:null,key:"analystFairValueDifference",items:[{title:"All",id:0,operator:"",value:[]},{title:"Above Price",id:1,operator:"LT",value:[0]},{title:"Below Price",id:2,operator:"GT",value:[0]}]},{prefix:"Sector",active:null,key:"sectorIds",items:[{id:"",title:"All"}]},{prefix:"Industries",active:null,key:"industryIds",items:[{id:"",title:"All"}]}]),j=V({active:{id:"ANNUAL",title:"Year-over-Year"},items:[{id:"QUARTERLY",title:"Quarter-over-Quarter"},{id:"ANNUAL",title:"Year-over-Year"}]}),H=()=>{c.setAdvancedFiltersVisible(!c.getAdvancedFiltersVisible)};let te;const z=async()=>{clearTimeout(te),te=setTimeout(async()=>{await d.fetchScreenerStocks(c.getActiveTab.id,j.value.active.id,"",c.getActiveFilter)},1e3)},ee=(v,e)=>{v.active=e,c.setQuickFilters(w.value.reduce((s,a)=>{var u,t;return a.active&&a.active!==a.items[0]&&s.push({key:a.key||"",operator:((u=a.active)==null?void 0:u.operator)||"",value:((t=a.active)==null?void 0:t.value)||[a.active.id]}),s},[])),K()},ae=(v=null)=>{var e;v!=null&&v.field?Array.isArray(v.field)?(e=v.field)==null||e.forEach(s=>{var a;g.value.hasOwnProperty(v.tab)&&((a=g.value[v.tab])!=null&&a.hasOwnProperty(s))&&(g.value[v.tab][s]=JSON.parse(JSON.stringify(C.value[v.tab][s])))}):g.value[v.tab][v.field]=JSON.parse(JSON.stringify(C.value[v.tab][v.field])):v!=null&&v.tab?g.value[v.tab]=JSON.parse(JSON.stringify(C.value[v.tab])):v!=null&&v.quickFilter?(w.value=w.value.map(s=>(s.active=null,s)),c.setQuickFilters([]),g.value=JSON.parse(JSON.stringify(g.value))):(v!=null&&v.all||(w.value=w.value.map(s=>(s.active=null,s)),c.setQuickFilters([])),g.value=JSON.parse(JSON.stringify(C.value))),c.setIsUnsavedChanges(!0)},ne=async()=>{c.setAdvancedFilterResetModal({quickFilter:!0})},re=v=>{g.value=v},K=()=>{c.setFilterData(g.value);const v=c.getFilterSummary,e=[];v.map(u=>{u.fields.map(t=>{var E,r,A,N,O,n,_,i,m,M,k,h,f,l,y,R,Y,F,q,he,Ae;switch(t.type){case"dropdowns":(E=t==null?void 0:t.dropdowns)!=null&&E.length&&e.push({f:t.field,dr:(r=t==null?void 0:t.dropdowns)==null?void 0:r.map(B=>{const $e={i:B.id,a:B.active};return B!=null&&B.active2&&($e.a2=B==null?void 0:B.active2),$e})});break;case"checkboxes":(A=t==null?void 0:t.items)!=null&&A.length&&e.push({f:t.field,i:(N=t==null?void 0:t.items)==null?void 0:N.map(B=>({i:B.id}))});break;case"checkboxesAccordion":(O=t==null?void 0:t.items)!=null&&O.length&&e.push({f:t.field,in:(n=t==null?void 0:t.items)==null?void 0:n.map(B=>({i:B.value}))});break;case"range":(_=t.data)!=null&&_.value&&e.push({f:t.field,d:{v:(i=t.data)==null?void 0:i.value}});break;case"rangeTags":(m=t.data)!=null&&m.value&&e.push({f:t.field,d:{v:(M=t.data)==null?void 0:M.value,b:(k=t.data)==null?void 0:k.buttonSelected}});break;case"radio":(h=t.data)!=null&&h.ratioSelected&&e.push({f:t.field,d:{r:t.data.ratioSelected}});break;case"dropdownsDouble":(f=t==null?void 0:t.dropdowns)!=null&&f.length&&e.push({f:t.field,dr:(l=t==null?void 0:t.dropdowns)==null?void 0:l.map(B=>({i:B.id,a:B.active,a2:B.active2}))});break;case"multiCheckboxes":const xe=(y=t.data)==null?void 0:y.quarterly.filter(B=>B.selected),_e=(R=t.data)==null?void 0:R.annual.filter(B=>B.selected);let fe=[],ge=[];xe!=null&&xe.length&&(fe=xe.map(B=>B.id)),_e!=null&&_e.length&&(ge=_e.map(B=>B.id)),(ge!=null&&ge.length||fe!=null&&fe.length)&&e.push({f:t.field,mcb:{i:t.data.id,q:fe,a:ge}});break;case"switchRadio":((Y=t.data)!=null&&Y.ratioSelected||(F=t.data)!=null&&F.excludeNegative)&&e.push({f:t.field,d:{r:t.data.ratioSelected,ex:t.data.excludeNegative}});break;case"timeDropdown":(q=t.data)!=null&&q.selected?e.push({f:t.field,d:{s:t.data.selected,f:t.data.fromDate.active,e:t.data.endDate.active}}):(he=t.data)!=null&&he.buttonSelected&&e.push({f:t.field,d:{b:t.data.buttonSelected}});break;case"radioRange":(Ae=t.data)!=null&&Ae.ratioSelected&&e.push({f:t.field,d:{r:t.data.ratioSelected,v:t.data.value}});break}})}),w.value.map(u=>{u.active&&u.active.id!==u.items[0].id&&e.push({f:u.key,d:{q:u.active.id}})});const s=btoa(JSON.stringify(e)),a=2048-(window.location.origin+window.location.pathname).length;s.length<=a&&p.push({path:p.currentRoute.value.path,query:{f:s}}),z()},P=v=>v.map((e,s,a)=>{var E,r;const u=a.find(A=>A.id==e.id-1),t=a.find(A=>A.id==e.id+1);return u!=null&&u.selected&&!(t!=null&&t.selected)?(E=a.find(A=>A.id===e.id-2))!=null&&E.selected?t!=null&&t.selected?{...e,enabled:!1}:{...e,enabled:!0}:e:t!=null&&t.selected&&!(u!=null&&u.selected)?(r=a.find(A=>A.id===e.id+2))!=null&&r.selected?u!=null&&u.selected?{...e,enabled:!1}:{...e,enabled:!0}:e:u!=null&&u.selected&&(u!=null&&u.selected)?{...e,enabled:!1}:e.selected?{...e,enabled:!0}:{...e,enabled:!1}}),D=v=>{w.value=w.value.map(e=>{if((e==null?void 0:e.key)==="sectorIds"&&(e.items=[e.items[0],...(v==null?void 0:v.map(s=>({title:s.name,id:s.id})))||[]]),(e==null?void 0:e.key)==="industryIds"){const s=(v==null?void 0:v.reduce((a,u)=>[...a,...u.industries.nodes],[]))||[];s.sort((a,u)=>a.name>u.name?1:a.name<u.name?-1:0),e.items=[e.items[0],...(s==null?void 0:s.map(a=>({title:a.name,id:a.id})))||[]]}return e})};se(()=>g.value,K,{deep:!0}),se(()=>c.getCurrentScreener,v=>{var s,a,u,t,E;const e=JSON.parse(JSON.stringify(c.getStarterFilterData));if(v){const r=v==null?void 0:v.filter;w.value=w.value.map(A=>{const N=r==null?void 0:r[A.key];return N?Array.isArray(N)&&N.length===1?A.items.find(O=>{var i;const n=N[0];let _;return typeof n=="object"?_=O.id===((i=n==null?void 0:n.sentiment)==null?void 0:i.condition):_=O.id===N[0],_&&(A.active=O),_}):A.items.find(O=>{var _;const n=O.operator===N.operator&&((_=O==null?void 0:O.value)==null?void 0:_[0])===N.value;return n&&(A.active=O),n}):A.active=null,A}),c.setQuickFilters(w.value.reduce((A,N)=>{var O,n;return N.active&&N.active!==N.items[0]&&A.push({key:N.key||"",operator:((O=N.active)==null?void 0:O.operator)||"",value:((n=N.active)==null?void 0:n.value)||[N.active.id]}),A},[]));for(let A in e){const N=e[A];for(let O in N){const n=N[O];let _;switch(n.type){case"dropdowns":n.dropdowns.map(i=>{var m,M,k;switch(n.key){case"dimensions":_=(m=r==null?void 0:r.dimensions)==null?void 0:m.find(h=>i.id===h.type),_&&(i.active=(M=_==null?void 0:_.sentiment)==null?void 0:M.condition);break;default:switch(i.id){case"exchangeIds":_=i.items.find(h=>{var f;return h.value[0]===((f=r==null?void 0:r.exchangeIds)==null?void 0:f[0])}),i.active=_?_.id:"all";break;default:(k=r==null?void 0:r.financials)==null||k.map(h=>{h.attribute===i.id&&(_=i.items.find(f=>{var l;return f.value[0]===h.numeric.value&&f.operator===h.numeric.operator&&(((l=f.value)==null?void 0:l[1])||null)===h.numeric.valueMax}),i.active=_?_.id:"all")})}}});break;case"dropdownsDouble":n.dropdowns.map(i=>{var m;(m=r==null?void 0:r.financials)==null||m.map(M=>{M.attribute===i.id&&(_=i.items.find(k=>{var h;return k.value[0]===M.numeric.value&&k.operator===M.numeric.operator&&M.frequency==="QUARTERLY"&&(((h=k.value)==null?void 0:h[1])||null)===M.numeric.valueMax}),i.active=_?_.id:"all",_=i.items.find(k=>{var h;return k.value[0]===M.numeric.value&&k.operator===M.numeric.operator&&M.frequency==="ANNUAL"&&(((h=k.value)==null?void 0:h[1])||null)===M.numeric.valueMax}),i.active2=_?_.id:"all")})});break;case"multiCheckboxes":(s=r==null?void 0:r.financials)==null||s.map(i=>{i.attribute===n.id&&(i.frequency==="ANNUAL"&&(n.annual=P(n.annual.map((m,M,k)=>{var l,y,R,Y;const h=(y=(l=r.financials)==null?void 0:l.find(F=>F.attribute===n.id&&F.frequency==="ANNUAL"))==null?void 0:y.numeric.value,f=(Y=(R=r.financials)==null?void 0:R.find(F=>F.attribute===n.id&&F.frequency==="ANNUAL"))==null?void 0:Y.numeric.valueMax;return h!==null&&f===null?m.value.min>=h?{...m,selected:!0}:m:h===null&&f!==null?m.value.max>=f?{...m,selected:!0}:m:h!==null&&f!==null&&m.value.min>=h&&m.value.max&&m.value.max<=f?{...m,selected:!0}:m}))),i.frequency==="QUARTERLY"&&(n.quarterly=P(n.quarterly.map((m,M,k)=>{var l,y,R,Y;const h=(y=(l=r.financials)==null?void 0:l.find(F=>F.attribute===n.id&&F.frequency==="QUARTERLY"))==null?void 0:y.numeric.value,f=(Y=(R=r.financials)==null?void 0:R.find(F=>F.attribute===n.id&&F.frequency==="QUARTERLY"))==null?void 0:Y.numeric.valueMax;return h!==null&&f===null?m.value.min>=h?{...m,selected:!0}:m:h===null&&f!==null?m.value.max>=f?{...m,selected:!0}:m:h!==null&&f!==null&&m.value.min>=h&&m.value.max&&m.value.max<=f?{...m,selected:!0}:m}))))});break;case"checkboxes":r!=null&&r[O]&&(n.items.map(i=>{i.selected=r[O].includes(i.value)}),n.checkboxSelected=n.items.some(i=>i.selected));break;case"checkboxesAccordion":r!=null&&r[O]&&(n.items.map(i=>i.industries.map(m=>m.selected=r[O].includes(m.value))),n.checkboxSelected=n.items.some(i=>i.selected));break;case"range":case"rangeTags":if(n.key==="dimensionSummaries"&&r[n.key]&&r[n.key].map(i=>{i!=null&&i.numeric&&(n.value=[i==null?void 0:i.numeric.value,i==null?void 0:i.numeric.valueMax])}),r!=null&&r[n==null?void 0:n.key]&&((a=r==null?void 0:r[n==null?void 0:n.key])==null?void 0:a.operator)==="BETWEEN"){const i=(n==null?void 0:n.reverse)||!1;n.value=i?[r[n.key].valueMax*-1,r[n.key].value*-1]:[r[n.key].value,r[n.key].valueMax]}break;case"radioRange":r!=null&&r[(u=n==null?void 0:n.key)==null?void 0:u[0]]&&(n.items.map(i=>{i.select=r[n.key[0]][0]===i.id}),n.ratioSelected=r[n.key[0]][0]),r!=null&&r[(t=n==null?void 0:n.key)==null?void 0:t[1]]&&(n.value=[r[n.key[1]].value,r[n.key[1]].valueMax]);break;case"timeDropdown":r!=null&&r[n==null?void 0:n.key]&&(n.buttonTags.find(i=>{var m;return i.active=i.sliderValue[0]===r[n.key].value&&(((m=i.sliderValue)==null?void 0:m[1])||i.sliderValue[0])===r[n.key].valueMax,i.active&&(n.buttonSelected=i.id),i.active}),n.buttonSelected||(n.selected=!0,n.fromDate.active=r[n.key].value,n.endDate.active=r[n.key].valueMax));break;case"switchRadio":(E=r==null?void 0:r.financials)==null||E.find(i=>(n.excludeNegative=i.attribute===(n==null?void 0:n.id),n.excludeNegative));break;case"radio":n.key==="dimensionSummaries"&&r[n.key]&&r[n.key].map(i=>{i!=null&&i.sentiment&&(n.items.map(m=>{m.select=i.sentiment.condition===m.id}),n.ratioSelected=i.sentiment.condition)});break}}}g.value=e,c.setIsUnsavedChanges(!1)}else v===void 0&&ae()},{deep:!0,immediate:!0}),se(()=>c.getScreenerSectors,D);const oe=()=>{var v,e,s,a,u,t,E,r,A,N,O,n,_;if((v=U.query)!=null&&v.f)try{const i=JSON.parse(JSON.stringify(c.getStarterFilterData)),m=JSON.parse(atob(U.query.f.toString()));w.value=w.value.map(M=>(m.find(k=>{const h=k.f===M.key;return h&&(M.active=M.items.find(f=>{var l;return((l=k==null?void 0:k.d)==null?void 0:l.q)===f.id})||null),h}),M)),c.setQuickFilters(w.value.reduce((M,k)=>{var h,f;return k.active&&k.active!==k.items[0]&&M.push({key:k.key||"",operator:((h=k.active)==null?void 0:h.operator)||"",value:((f=k.active)==null?void 0:f.value)||[k.active.id]}),M},[]));for(let M in i){const k=i[M];for(let h in k){const f=k[h],l=m.find(y=>y.f===h);l&&((s=(e=l==null?void 0:l.mcb)==null?void 0:e.a)!=null&&s.length&&(f.annual=P(f.annual.map((y,R,Y)=>l.mcb.a.includes(y.id)?{...y,selected:!0}:y))),(u=(a=l==null?void 0:l.mcb)==null?void 0:a.q)!=null&&u.length&&(f.quarterly=P(f.quarterly.map(y=>l.mcb.q.includes(y.id)?{...y,selected:!0}:y))),l!=null&&l.dr&&f.dropdowns.map(y=>{var Y;const R=(Y=l==null?void 0:l.dr)==null?void 0:Y.find(F=>y.id===F.i);R&&(y.active=R.a,R!=null&&R.a2&&(y.active2=R.a2))}),l.i&&f.items.map(y=>{var Y;((Y=l==null?void 0:l.i)==null?void 0:Y.find(F=>y.id===F.i))&&(y.selected=!0,f.checkboxSelected=!0)}),(t=l.in)!=null&&t.length&&(f.checkboxSelected=!0,f.items=f.items.map(y=>({...y,industries:y.industries.map(R=>{var F;return((F=l==null?void 0:l.in)==null?void 0:F.find(q=>R.value===q.i))?{...R,selected:!0}:R})}))),(E=l==null?void 0:l.d)!=null&&E.v&&(f.value=l.d.v),(r=l==null?void 0:l.d)!=null&&r.r&&(f.ratioSelected=l.d.r,f.items.map(y=>{var R;y.select=((R=l==null?void 0:l.d)==null?void 0:R.r)===y.id})),(A=l==null?void 0:l.d)!=null&&A.ex&&(f.excludeNegative=l.d.ex),(N=l==null?void 0:l.d)!=null&&N.s&&(f.selected=l.d.s),(O=l==null?void 0:l.d)!=null&&O.f&&(f.fromDate.active=l.d.f),(n=l==null?void 0:l.d)!=null&&n.e&&(f.endDate.active=l.d.e),(_=l==null?void 0:l.d)!=null&&_.b&&(f.buttonSelected=l.d.b,f.buttonTags.map(y=>{var R;y.active=y.id===((R=l==null?void 0:l.d)==null?void 0:R.b)})))}}g.value=i}catch{g.value=JSON.parse(JSON.stringify(c.getStarterFilterData))}else g.value=JSON.parse(JSON.stringify(c.getStarterFilterData))};return Le(async()=>{await c.setStarterFilterData(Ke),D(c.getScreenerSectors),oe()}),(v,e)=>{const s=Me,a=Re,u=Lt,t=Qt;return x(),S("div",null,[o("div",Ht,[o("div",{class:G(["lg:order-none md:order-1 order-2 xl:border-r-[1px] border-mischka lg:pr-4 shrink-0",{"opacity-30 pointer-events-none":$.value}])},[o("button",{onClick:H,class:G(["font-medium text-sm leading-[14px] inline-flex h-[1.5rem] items-center gap-2.5",T.value||L.value?"text-purple-text":"text-secondary-text"])},[Q(s,{class:G(["w-3 h-3",{"text-purple":T.value||L.value}]),name:"img/screener/icons/filter"},null,8,["class"]),ve(" Advanced Filters "+X(L.value?`(${L.value})`:"")+" ",1),Q(s,{name:"img/screener/icons/arrow-advanced",class:G(["transition-all w-2.5 h-2.5",{"scale-y-[-1]":T.value,"text-purple":T.value||L.value}])},null,8,["class"])],2)],2),o("div",{class:G(["flex md:flex-row flex-col flex-wrap gap-5 lg:w-auto w-full grow justify-center",{"opacity-30 pointer-events-none":$.value}])},[(x(!0),S(le,null,pe(w.value,E=>(x(),me(a,{class:"md:mt-0 !block",placeholder:"All",selected:E.active,items:E.items,"has-slot":"",onChangeActiveTimeSelect:r=>ee(E,r)},{prefix:be(()=>[o("span",zt,X(E.prefix),1)]),_:2},1032,["selected","items","onChangeActiveTimeSelect"]))),256))],2),o("button",{onClick:ne,class:G(["xl:border-l-[1px] border-mischka pl-2 text-sm leading-3 text-time-grey underline-offset-[6px] underline",{"opacity-30 pointer-events-none":$.value}])},"Reset ",2)]),Q(u,{period:j.value.active,"filter-data":g.value,onChangeFilter:re},null,8,["period","filter-data"]),Q(t,{onResetFilter:ae})])}}}),Ce=Z=>(Fe("data-v-53cb530b"),Z=Z(),Be(),Z),Gt={key:0,class:"fixed top-0 left-0 bg-[#6B728070] w-screen h-screen flex justify-center items-center z-[111]"},Wt={class:"flex items-center gap-2"},qt={key:0,class:"shrink-0 w-6 h-6"},Xt={key:1,class:"grow font-semibold text-notification-other-title text-center"},Zt={key:2,class:"grow font-semibold text-notification-other-title text-center"},es=["src"],ts={key:0,class:"mt-4 text-sm text-footer-nav"},ss={key:1,class:"mt-6"},as=Ce(()=>o("p",{class:"text-grey text-sm leading-5 font-normals"},"Enter new Screener Name to save as new Screen or Save for updating existing:",-1)),ns={class:"relative mt-2"},rs={key:0,class:"block absolute top-2 left-3 px-0.5 border border-[#3B82F6] bg-[#1371EC33] text-primary-black truncate current-screener-badge pointer-events-none"},os={class:"mt-6"},ls=Ce(()=>o("p",{class:"text-grey text-sm leading-5 font-normals"},"Enter new Screener Name:",-1)),is={class:"mt-6"},cs=Ce(()=>o("p",{class:"text-grey text-sm leading-5 font-normals"},"Screener Description:",-1)),ds={class:"flex items-center mt-7"},us=ie({__name:"ModalSaveScreener",setup(Z){const b=ce(),g=I(()=>b.getModalScreenerOpen),d=I(()=>b.getUpdateCurrentScreener),c=I(()=>b.getCurrentScreener),T=I(()=>b.getIsSaveChanges),$=V(null),C=V(""),L=V(""),U=()=>{b.setModalScreenerOpen(!1),b.setIsSaveChanges(!1),C.value="",L.value=""},p=async()=>{await b.createScreener(C.value,L.value),b.setModalScreenerOpen(!1),b.setSuccessScreenerModalOpen(!0),b.setIsSaveChanges(!1),C.value="",L.value="",await b.fetchScreeners()};return se(()=>g.value,w=>{w?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")}),(w,j)=>g.value?(x(),S("div",Gt,[o("div",{ref_key:"modalBox",ref:$,class:"bg-white animation-box overflow-hidden rounded-lg md:w-6/12 w-full mx-2 px-5 py-4 max-w-[340px]"},[o("div",Wt,[d.value?(x(),S("div",qt)):W("",!0),T.value?(x(),S("p",Xt,"Save Screens As")):(x(),S("p",Zt,"Save "+X(d.value?"Screener":"Screens As"),1)),d.value?(x(),S("button",{key:3,class:"shrink-0 w-6 h-6 flex justify-center items-center",onClick:U},[o("img",{src:"/img/screener/icons/cross.svg",alt:"cross"},null,8,es)])):W("",!0)]),d.value?(x(),S("p",ts,"This will save any changes in filters to your existing screener. Are you sure you want to continue?")):T.value?(x(),S("div",ss,[as,o("div",ns,[Se(o("input",{"onUpdate:modelValue":j[0]||(j[0]=H=>C.value=H),maxlength:"150",type:"text",class:"border-[1px] border-secondary-text focus:border-primary rounded-md py-2 px-3 bg-transparent text-time-grey w-full"},null,512),[[ye,C.value]]),!C.value&&c.value?(x(),S("span",rs,X(c.value.name),1)):W("",!0)])])):(x(),S(le,{key:2},[o("div",os,[ls,Se(o("input",{"onUpdate:modelValue":j[1]||(j[1]=H=>C.value=H),maxlength:"150",type:"text",placeholder:"Screener name",class:"border-[1px] border-secondary-text focus:border-primary rounded-md py-2 px-3 mt-2 bg-transparent text-time-grey w-full"},null,512),[[ye,C.value]])]),o("div",is,[cs,Se(o("textarea",{"onUpdate:modelValue":j[2]||(j[2]=H=>L.value=H),maxlength:"280",rows:"5",placeholder:"Optional description for screener",class:"border-[1px] border-secondary-text focus:border-primary rounded-md py-2 px-3 mt-2 bg-transparent text-time-grey w-full"},null,512),[[ye,L.value]])])],64)),o("div",ds,[o("button",{class:"w-1/2 rounded-md bg-transparent border-[1px] border-[#CFD2DB] text-footer-nav text-sm leading-5 py-2.5 mr-2",onClick:U},X(d.value?"No":"Cancel"),1),o("button",{class:"w-1/2 rounded-md bg-primary text-white border-[1px] border-primary text-sm leading-5 py-2.5 ml-2",onClick:p},X(d.value?"Yes":"Save"),1)])],512)])):W("",!0)}});const vs=tt(us,[["__scopeId","data-v-53cb530b"]]),ps={key:0,class:"fixed top-0 left-0 bg-[#6B728070] w-screen h-screen flex justify-center items-center z-[111]"},ms={class:"flex items-center gap-2"},fs=o("div",{class:"shrink-0 w-6 h-6"},null,-1),gs=o("p",{class:"grow font-semibold text-notification-other-title text-center"},"Unsaved Changes",-1),xs=["src"],_s=o("p",{class:"mt-4 text-sm text-footer-nav"},"You have made changes in your screen. Would you like to save them?",-1),bs=ie({__name:"ModalUnsavedChangesScreener",setup(Z){const b=ce(),g=I(()=>b.getIsUnsavedChangesScreenerModalOpen),d=V(null),c=()=>{b.setActiveScreener(g.value),b.setUnsavedChangesScreenerModal(null)},T=async()=>{b.setUnsavedChangesScreenerModal(null),b.setModalScreenerOpen(!0),b.setIsSaveChanges(!0)};return se(()=>g.value,$=>{$?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")}),($,C)=>g.value!==null?(x(),S("div",ps,[o("div",{ref_key:"modalBox",ref:d,class:"bg-white animation-box overflow-hidden rounded-lg md:w-6/12 w-full mx-2 px-5 py-4 max-w-[340px]"},[o("div",ms,[fs,gs,o("button",{class:"shrink-0 w-6 h-6 flex justify-center items-center",onClick:c},[o("img",{src:"/img/screener/icons/cross.svg",alt:"cross"},null,8,xs)])]),_s,o("div",{class:"flex items-center mt-7"},[o("button",{class:"w-1/2 rounded-md bg-transparent border-[1px] border-[#CFD2DB] text-footer-nav text-sm leading-5 py-2.5 mr-2",onClick:c},"No"),o("button",{class:"w-1/2 rounded-md bg-primary text-white border-[1px] border-primary text-sm leading-5 py-2.5 ml-2",onClick:T},"Yes")])],512)])):W("",!0)}}),hs={class:"max-w-[1492px] mx-auto relative"},Ss=o("h2",{class:"m-0"},"Pre-Screened Ideas",-1),ys=o("p",{class:"text-time-grey text-sm font-medium"},"High level platform insights from EquitySet based on underlying data that may help influence your opinion on the direction of stocks, markets or sectors.",-1),ks={class:"flex-1 overflow-y-auto flex flex-col gap-4"},ws={key:0,class:"mb-8 font-semibold text-lg"},Cs={class:"text-primary font-bold"},As={key:0,class:"md:flex lg:ml-2"},$s=o("div",{class:"hidden lg:block w-[1px] h-7 bg-mischka mr-5 self-end mb-[1px]"},null,-1),Ts=["onClick"],Ns=o("b",null,"Screener:",-1),Ms={key:1,class:"flex justify-center"},ra=ie({__name:"index",setup(Z){ke();const b=we(),g=I(()=>b.getStocksComponents),d=ce(),c=I(()=>d.getCurrentScreener);I(()=>d.getActiveTab);const T=V("ANNUAL"),$=V(!1),C=V([{id:"screener-additions",label:"Additions",active:!1},{id:"screener-removals",label:"Removals",active:!1}]),L=async()=>{$.value=!0,await b.fetchScreenerStocks(d.getActiveTab.id,T.value,g.value.pageInfo.endCursor,d.getActiveFilter),$.value=!1},U=async P=>{T.value=P,await b.fetchScreenerStocks(d.getActiveTab.id,T.value,g.value.pageInfo.endCursor,d.getActiveFilter)},p=P=>{d.setActiveTab({id:P})};se(()=>d.getActiveTab,P=>{C.value=C.value.map(D=>({...D,active:D.id===P.id})),d.setDisableFilters(C.value.some(D=>D.active))},{immediate:!0});const w=V(0),j=()=>w.value+=1,H=V(null);Ie("setScreener",P=>{H.value=P,d.currentScreener=null,j()});const z=st(),ee=V([]),ae=V([]),ne=V(!1);Ve(async()=>{const P=await z.fetchIdeasNotions();ee.value=P.data;const D=await z.fetchNotionCategories();ae.value=["All Ideas",...D.map(oe=>oe.attributes.name)]});const re=V(null),K=async P=>{if(P!=="All Ideas"){re.value=P;const D=await z.fetchNotionCategory(P);D&&(ee.value=D[0].attributes.notions.data)}else{re.value="All Ideas";const D=await z.fetchIdeasNotions();ee.value=D.data}};return(P,D)=>{var i,m,M,k,h,f,l,y,R,Y,F;const oe=yt,v=Re,e=Mt,s=He,a=ze,u=Kt,t=Xe,E=Ze,r=et,A=vs,N=Ge,O=We,n=qe,_=bs;return x(),S("div",null,[o("div",hs,[Q(oe,{class:"mb-6"}),Q(s,{class:"mb-7",bgImgUrl:"/img/screener/pre-screener-ideas-bg.jpg",isOpenDrawer:ne.value,onChangeDrawerState:D[2]||(D[2]=q=>ne.value=q),title:"Not sure where to start?",description:"Select one of our pre-screened ideas to get started with your stock research",buttonText:"Pre-Screened Ideas"},{default:be(()=>[Ss,ys,Q(v,{class:"!block w-max",items:ae.value,selected:re.value,placeholder:"All Ideas",onChangeActiveTimeSelect:D[0]||(D[0]=q=>K(q))},null,8,["items","selected"]),o("div",ks,[(x(!0),S(le,null,pe(ee.value,q=>(x(),me(e,{key:q.id,item:q,onSetScreenerEmit:D[1]||(D[1]=he=>ne.value=!1)},null,8,["item"]))),128))])]),_:1},8,["isOpenDrawer"]),(m=(i=J(d))==null?void 0:i.currentScreener)!=null&&m.name||H.value?(x(),S("div",ws,[ve("Selected Screen: "),o("span",Cs,X(((k=(M=J(d))==null?void 0:M.currentScreener)==null?void 0:k.name)||H.value),1)])):W("",!0),Q(a,{class:"mt-2"},{addlTabs:be(()=>[c.value?(x(),S("div",As,[$s,(x(!0),S(le,null,pe(C.value,q=>(x(),S("button",{onClick:()=>p(q.id),class:G(["px-[18px] mt-2 py-2 rounded-[6px] relative text-xs leading-3 mr-2 border transition-all duration-500",q.active?"text-primary border-primary bg-button-tab":"text-grey-white border-mischka"])},[Ns,ve(" "+X(q.label),1)],10,Ts))),256))])):W("",!0)]),_:1}),(x(),me(u,{class:"mt-3.5",onChangePeriod:U,key:w.value})),(h=g.value)!=null&&h.isLoading&&!$.value?(x(),S("div",Ms,[Q(t)])):W("",!0),Q(E,{class:G(["mt-6 overflow-auto",{hidden:((f=g.value)==null?void 0:f.isLoading)&&!$.value}]),"stocks-list":(l=g.value)==null?void 0:l.nodes,"page-info":(y=g.value)==null?void 0:y.pageInfo,parent:(R=g.value)==null?void 0:R.parent,type:(Y=g.value)==null?void 0:Y.type,period:T.value,"agg-info":(F=g.value)==null?void 0:F.agg,onScreenerShowMore:L},null,8,["class","stocks-list","page-info","parent","type","period","agg-info"]),Q(r)]),Q(A),Q(N),Q(O),Q(n),Q(_)])}}});export{ra as default};