import{aW as p,aO as b,c0 as h,s as c}from"./entry.8bd29e6a.js";import{p as d}from"./utils.11774da7.js";const M=p(),N=b({id:"navigation-store",state:()=>({selectedNavItem:{},navItems:{},navHeaderItems:{},isError:!1,currentMenu:h.DEFAULT_MENU,isMegaMenuDebugging:!1,megaMenuDebuggingUsers:[],currentMegaMenuItemIndex:{parentIndex:0,childIndex:0}}),getters:{getSelectedNavItem:e=>e.selectedNavItem,getNavItems:e=>e.navItems,getHeaderNavItems:e=>e.navHeaderItems,gerRequestError:e=>e.isError,getCurrentMenu:e=>e.currentMenu,getIsMegaMenuDebugging:e=>e.isMegaMenuDebugging,getMegaMenuDebuggingUsers:e=>e.megaMenuDebuggingUsers,getCurrentMegaMenuItemIndex:e=>e.currentMegaMenuItemIndex},actions:{setNavItem(e){this.selectedNavItem=e},setIsMegaMenuDebugging(e){this.isMegaMenuDebugging=e},setMegaMenuDebuggingUsers(e){this.megaMenuDebuggingUsers=e},setCurrentMegaMenuItemIndex(e,s){this.currentMegaMenuItemIndex={parentIndex:e,childIndex:s}},async fetchCurrentMenuOptions(){var e,s,n,r,i,g,a;try{const{data:t}=await c.get("/menus-options/?populate=*");return this.currentMenu=((s=(e=t.data)==null?void 0:e.attributes)==null?void 0:s.current_menu)||h.DEFAULT_MENU,this.isMegaMenuDebugging=((r=(n=t.data)==null?void 0:n.attributes)==null?void 0:r.mega_menu_debug)===!0,this.megaMenuDebuggingUsers=((a=(g=(i=t.data)==null?void 0:i.attributes)==null?void 0:g.debug_users)==null?void 0:a.map(o=>o==null?void 0:o.list_item))||[],this.currentMenu}catch(t){throw console.log("MENU ERROR",t),this.isError=!0,M.error("Something went wrong"),t}},async fetchNavItems(){try{const{data:e}=await c.get("/menus?nested&populate=items.parent,items.category.icon,items.category.terms,items.category.children.children.terms,items.category.children.terms&filters[slug][$eq]=learn-main-left-navigation");return this.navItems=e.data[0].attributes.items,e.data[0].attributes.items}catch(e){throw console.log("PRICING ERROR",e),this.isError=!0,M.error("Something went wrong"),e}},async fetchHeaderNavItems(){try{const{data:e}=await c.get("/menus/3?nested&populate=*");return this.navHeaderItems=e.data.attributes.items,e.data.attributes.items}catch(e){throw console.log("NAVIGATION ERROR",e),this.isError=!0,M.error("Something went wrong"),e}},async fetchHeaderMegaMenuNavItems(){var e,s,n,r,i,g;try{const a=d({insights_lists:{featured_image:{}}}),t=d({indices:{image:{}}}),o=d({sectors:{image:{}}}),u={image:{},stocks_lists:{},links:{},themes:{},stocks_pairs:{},cta_list_items:{},sectors:{},industries:{}};u[a]={},u[t]={},u[o]={};const m={};m.items={},m.items.mega_item_content={},m.items.mega_item_content.left_col={...u},m.items.mega_item_content.right_col={...u};const I=d(m),{data:l}=await c.get(`/menus?nested&populate=items.parent,${I}&filters[slug][$eq]=mega-menu`);return this.navHeaderItems=((n=(s=(e=l.data)==null?void 0:e.at(0))==null?void 0:s.attributes)==null?void 0:n.items)||[],((g=(i=(r=l.data)==null?void 0:r.at(0))==null?void 0:i.attributes)==null?void 0:g.items)||[]}catch(a){throw console.log("NAVIGATION ERROR",a),this.isError=!0,M.error("Something went wrong"),a}}}});export{N as u};