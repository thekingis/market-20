import{aW as s,aO as c,s as a}from"./entry.8bd29e6a.js";const i=s(),d=c({id:"learning-store",state:()=>({learningOverview:{},termSocials:{},termCompanies:{},categoriesList:[],individualCategory:{},videoTutorial:{},termsList:[],individualTerm:{},learningSearch:{},isError:!1}),getters:{getLearningOverview:t=>t.learningOverview,getTermSocials:t=>t.termSocials,getTermCompanies:t=>t.termCompanies,getVideoTutorials:t=>t.videoTutorial,getTermsList:t=>t.termsList,getIndividualTerm:t=>t.individualTerm,getLearningSearch:t=>t.learningSearch,getCategoriesList:t=>t.categoriesList,getIndividualCategory:t=>t.individualCategory,getError:t=>t.isError},actions:{async fetchLearningOverview(){try{const{data:t}=await a.get("/learn-overview/?populate=list_below_search,button_below_search,platform_category,explore_button,explore_category.icon,primary_action,secondary_action,model_terms.category,video_tutorials.video,video_tutorials.category,video_tutorials.category_main,video_tutorials.cover,video_tutorials.term,tutorials_button,faqs.article,faq_button,seo,seo.metaImage,seo.metaSocial,seo.metaSocial.image");return this.learningOverview=t.data,t.data}catch(t){throw console.log("LEARNING ERROR",t),this.isError=!0,i.error("Something went wrong"),t}},async fetchSocialsTerms(){try{const{data:t}=await a.get("/socials");return this.termSocials=t,t}catch(t){console.log("SOCIALS ERROR",t),i.error("Can not load socials")}},async fetchCompaniesTerms(){try{const{data:t}=await a.get("/companies/?populate=*");return this.termCompanies=t,t}catch(t){console.log("COMPANIES ERROR",t),i.error("Can not load companies")}},async fetchVideoTutorials(){try{const{data:t}=await a.get("/video-tutorials/?populate=*");return this.videoTutorial=t,t}catch(t){console.log("VIDEO TUTORIALS ERROR",t),i.error("Can not load videos")}},async fetchTerms(t=[],e=1,o=!1){try{const n=o?"&filters[key][$notNull]=true":"",{data:r}=await a.get(`/terms/?filters[$or][0][hide_from_learn][$eq]=false&filters[$or][1][hide_from_learn][$null]=true&pagination[page]=${e}${n}&populate=category.parents.parents.parents,info_bubble,content.takeway_list,content.bordered_button,content.underlined_button,content.colored_box.company.logo,content.terms.category.icon,content.image_grid.image,video.video`);return r.meta.pagination.page<r.meta.pagination.pageCount?this.fetchTerms([...t,...r.data],e+1,o):(this.termsList=[...t,...r.data],this.termsList)}catch(n){console.log("TERMS ERROR",n),i.error("Can not load terms")}},async fetchIndividualTerm(t,e=!1){try{const{data:o}=await a.get(`/terms/?filters[${e?"key":"slug"}][$eq]=${t}&populate=info_bubble,content.takeway_list,content.bordered_button,content.underlined_button,content.colored_box.company.logo,content.terms.category.icon,content.image_grid.image,video.video,content.video_tutorial`);return this.individualTerm=o,o}catch(o){console.log("INDIVIDUAL TERM ERROR",o),i.error("Can not load individual term")}},async fetchCategories(t=[],e=1,o=!1){try{const n=o?"&filters[key][$notNull]=true":"",{data:r}=await a.get(`/categories/?pagination[page]=${e}${n}&populate=content.takeway_list,content.bordered_button,content.underlined_button,content.colored_box.company.logo,content.terms.category.icon,content.image_grid.image,terms`);return r.meta.pagination.page<r.meta.pagination.pageCount?this.fetchCategories([...t,...r.data],e+1):(this.categoriesList=[...t,...r.data],this.categoriesList)}catch(n){console.log("CATEGORIES ERROR",n),i.error("Can not load categories")}},async fetchIndividualCategory(t){try{t=t.split("-").join(" ");const{data:e}=await a.get(`/categories/?filters[title][$eqi]=${t}&populate=content.takeway_list,content.bordered_button,content.underlined_button,content.colored_box.company.logo,content.terms.category.icon,content.image_grid.image,terms,content.video_tutorial`);return this.individualCategory=e,e}catch(e){console.log("INDIVIDUAL CATEGORY ERROR",e),i.error("Can not load individual category")}},async fetchSearchLearning(t){try{let e=[];return await a.get(`/terms/?filters[title][$containsi]=${t}&filters[$or][0][hide_from_learn][$eq]=false&filters[$or][1][hide_from_learn][$null]=true`).then(({data:o})=>{e=[...e,...o.data]}),await a.get(`/categories/?filters[title][$containsi]=${t}`).then(({data:o})=>{e=[...e,...o.data]}),this.learningSearch=e,e}catch(e){console.log("SEARCH LEARNING ERROR",e),i.error("Can not load search learning")}}}});export{d as u};