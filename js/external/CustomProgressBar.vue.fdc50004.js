import{d as _,a as E,r as C,aB as W,aQ as k,q as z,aC as I,o as c,c as f,b as R,F as G,j as H,i as U,n as p}from"./entry.8bd29e6a.js";const N=_({__name:"CustomProgressBar",props:{itemsAmountPercentage:{default:0},itemsWidth:{default:4},itemsGap:{default:1},itemsHeight:{default:20},rating:{default:"NEUTRAL"},showOneItemForZeroValues:{type:Boolean,default:!1}},setup(L){const e=L,o=E(()=>e),h={BULLISH:"bg-custom-progress-bar-bullish",NEUTRAL:"bg-mischka",BEARISH:"bg-custom-progress-bar-bearish"},r=C(""),g=C([]),n=(t,b,i)=>{setTimeout(()=>{var y,A,B,x;const m=((A=(y=r.value)==null?void 0:y.getBoundingClientRect())==null?void 0:A.width)||1,a=Math.floor((m+i)/(b+i)),w=Math.floor(t*a);let u=w<=a?w:a;e.showOneItemForZeroValues&&u===0&&(u=1);const d=Array.from(Array(a)),T=e.rating!==""?h[e.rating]:h.NEUTRAL;for(let s=0;s<a;s++)s<u?d[s]={color:T}:d[s]={color:"bg-custom-progress-bar-default"};g.value=d,(x=(B=r.value)==null?void 0:B.classList)==null||x.remove("opacity-0")},300)};let l;const v=()=>{l&&clearTimeout(l),l=setTimeout(()=>{n(e.itemsAmountPercentage,e.itemsWidth,e.itemsGap)},200)};return W(()=>{k(()=>n(e.itemsAmountPercentage,e.itemsWidth,e.itemsGap)),typeof window<"u"&&window.addEventListener("resize",v)}),z(()=>{typeof window<"u"&&window.removeEventListener("resize",v)}),I(()=>e,t=>{n(t.itemsAmountPercentage,t.itemsWidth,t.itemsGap)},{deep:!0}),(t,b)=>(c(),f("div",{class:"w-full max-w-[100%] relative opacity-0 duration-100",style:p(`height: ${o.value.itemsHeight}px`),ref_key:"barContainer",ref:r},[R("div",{class:"flex overflow-hidden absolute left-0 top-[50%] translate-y-[-50%]",style:p(`gap:${o.value.itemsGap}px`)},[(c(!0),f(G,null,H(g.value,(i,m)=>(c(),f("div",{class:U(["rounded-full",i.color]),style:p(`width:${o.value.itemsWidth}px; height: ${o.value.itemsHeight}px`),key:m},null,6))),128))],4)],4))}});export{N as _};