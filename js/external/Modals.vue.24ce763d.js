import{a as Fe,_ as We}from"./AuthTakingToPremium.vue.de71648d.js";import{d as U,z as ge,y as ee,a as E,o as l,f as F,w as G,b as e,e as y,h as D,g as L,m as ne,c as f,ay as we,az as Se,p as ke,t as M,n as K,x as $e,r as $,ch as pe,aW as Z,aC as J,F as H,j as Q,k as R,i as q,l as _e,aR as Be,aH as Re,aB as le,aS as Le,a$ as Te,b0 as Ce,v as Pe,aJ as Ne,aL as Oe}from"./entry.8bd29e6a.js";import{_ as he}from"./_plugin-vue_export-helper.c27b6911.js";import{j as z,t as Ae,S as ve,C as Ue,f as je,u as oe,D as Ve,i as ye,m as be}from"./utils.11774da7.js";import{u as ae}from"./useWatchlistStore.a64354a0.js";import{_ as Ge}from"./DeleteWatchlist.vue.13823ddf.js";import{_ as fe}from"./nuxt-icon.vue.2d6fd5e1.js";/* empty css                      */import{_ as qe}from"./DeletePortfolio.vue.11e836ed.js";import{_ as ze}from"./SmallLoader.a34eb8b6.js";import{_ as te}from"./nuxt-link.a6eea277.js";import{_ as Ye,b as He}from"./UpgradeBannerTrigger.vue.4efb0912.js";import{_ as ce}from"./FormCheckbox.vue.e7c6dfe6.js";import{_ as De}from"./DropdownSelect.vue.398b244e.js";import{u as se}from"./useTriggersStore.ac1fc0eb.js";import{_ as Ee}from"./CheckAndPremiumDropdown.vue.fecba3b2.js";import{u as Qe}from"./useProfileStore.6577a669.js";import{_ as Je}from"./PremiumTag.d8455a13.js";import{_ as Xe}from"./TermsHeader.vue.793eb087.js";import{_ as Ke}from"./LoadingSection.e3454cc3.js";import{s as Ze}from"./term-types.f099ded4.js";import{_ as et}from"./ModalCreateIdeaList.vue.99af9029.js";import{u as tt}from"./useIdeasStore.76560d63.js";const st={class:"mt-5"},ot=["src"],lt=e("p",{class:"text-sm leading-5 font-normal text-center text-grey px-3 pt-4"},"Our monitoring system is already notified and our team will address it as soon as possible ",-1),it=e("p",{class:"text-grey leading-3 text-xs mt-5 text-center"},[L("Problem persists? "),e("a",{href:"#",class:"underline"},"Contact Support")],-1),rt=U({__name:"AuthErrorModal",setup(I){const u=ge(),n=ee(),g=E(()=>n.getIsModalErrorVisible),p=()=>{u.push("/"),n.$reset()};return(d,i)=>{const a=Fe;return g.value?(l(),F(a,{key:0,"is-error":"",title:" Uh oh!  It seems there is an error on our end.",onCloseModal:i[0]||(i[0]=c=>y(n).setModalErrorVisible(!1))},{"auth-content":G(()=>[e("div",st,[e("img",{class:"mx-auto",src:"/img/auth/error-img.svg",alt:"logo"},null,8,ot),lt,e("button",{class:"text-footer-nav leading-5 text-sm font-medium mt-11 border border-grey-bg-footer rounded-md w-full py-2.5",onClick:p}," Back to Equityset.com "),it])]),_:1})):D("",!0)}}}),nt=I=>(we("data-v-3165b721"),I=I(),Se(),I),at={key:0,class:"fixed top-0 left-0 bg-[#6B728070] w-screen h-screen flex justify-center items-center z-[200]"},ct=nt(()=>e("div",{class:"loader"},null,-1)),dt=[ct],ut=U({__name:"LoadingWheel",setup(I){const u=ne(),n=E(()=>u.getLoading);return(g,p)=>n.value?(l(),f("div",at,dt)):D("",!0)}});const mt=he(ut,[["__scopeId","data-v-3165b721"]]),gt={class:"relative bg-white animation-box rounded-lg max-w-[400px] w-full px-5 py-4 shadow-[0_20px_25px_-5px_rgba(0,0,0,0.1),0-10px_10px_-5px_rgba(0,0,0,0.04)]"},ft={class:"flex items-center justify-center text-notification-other-title font-semibold"},pt={class:"absolute right-5 top-5"},_t=["src"],ht={class:"w-full"},vt=["src"],Me=U({__name:"AddToWatchlistSuccess",props:{watchlist:{default:null},title:{default:"Added to"},action:{}},setup(I){const u=I,n=z(),g=ae(),p=ge(),d=ke(),i=()=>{var m,b;n.setWatchlistFlow(!1),n.setWatchlistFlowSuccess(!1),g.openConfirmDeleteWatchlist(!1,""),g.setIsOpenCreateWatchlist(!1,"");const a=["create-watchlist","update-watchlist"],c=["delete-watchlist"],r=(m=d.query)==null?void 0:m.tag;a.includes(u.action||"")?p.push(`/watchlist/${Ae(((b=u.watchlist)==null?void 0:b.name)||"")}?${r?"tag="+r+"&":""}refresh=1`):c.includes(u.action||"")&&p.push("/watchlist/?refresh=1")};return(a,c)=>{var r,m;return l(),f("div",gt,[e("div",null,[e("div",ft,[L(M(a.title)+" ",1),e("span",{class:"mx-2.5 w-2.5 h-2.5 block rounded-full",style:K({background:(r=a.watchlist)==null?void 0:r.color})},null,4),L(" "+M((m=a.watchlist)==null?void 0:m.name),1)]),e("button",pt,[e("img",{src:"/img/icons/cross.svg",alt:"cross"},null,8,_t)])]),e("div",ht,[e("img",{class:"w-22 mx-auto my-6",src:"/img/modals/watchlist-flow/success.svg",alt:"success"},null,8,vt),e("button",{onClick:i,class:"py-2.5 w-10/12 mx-auto block text-white text-sm rounded-lg bg-primary"}," Done ")])])}}}),xt={key:0,class:"fixed top-0 left-0 bg-[#6B728070] w-screen h-screen flex justify-center items-center z-[105]"},yt={key:2,ref:"modalBox",class:"bg-white animation-box overflow-hidden rounded-lg max-w-[400px] w-full px-5 py-4"},bt={class:"text-notification-other-title text-base leading-5 font-semibold text-center"},wt={class:"mt-6"},St={class:"text-grey font-normal mb-2"},kt=["value"],$t={class:"flex items-center mt-6"},Tt=e("p",{class:"text-sm w-4/12 font-medium text-footer-nav"},"Watchlist Color:",-1),Ct={class:"w-8/12 flex items-center justify-between px-6"},Pt=["onClick"],At={class:"flex items-center mt-6 mb-4"},Dt={key:0,class:"border-t-[1px] border-mischka flex items-center pt-2"},Et=["src"],Mt=e("p",{class:"font-normal text-grey ml-2 text-xs leading-4"},"To add stocks visit each stock page you wish to add",-1),It={key:1,class:"border-t-[1px] border-mischka flex items-center pt-2"},Ft=U({__name:"CreateWatchlistModal",setup(I){const u=$e(),n=ae(),g=z(),p=E(()=>n.getIsOpenCreateWatchlist),d=E(()=>n.getConfirmDeleteWatchlist),i=E(()=>g.getWatchlistFlowSuccess),a=$(pe),c=$(""),r=$(""),m=Z(),b=$(),v=t=>{var s;c.value=(s=t.target.value)==null?void 0:s.trim()},w=t=>{a.value=a.value.map(s=>({...s,selected:s.id===t}))},A=()=>{n.setIsOpenCreateWatchlist(!1,"")},h=async()=>{var s,o;b.value="create-watchlist";const{createWatchlist:t}=await n.createWatchlist(c.value,((s=a.value.find(_=>_.selected))==null?void 0:s.color)||a.value.at(0));t!=null&&t.error&&m.error(t.error.message),t!=null&&t.watchlist&&(r.value="Created",g.setWatchlistFlowSuccess(!0,t.watchlist)),(o=u.value)!=null&&o.config&&u.value.track(`Create watchlist: ${c.value}`)},S=async()=>{var t,s,o,_,T;if((s=(t=n.getIsOpenCreateWatchlist)==null?void 0:t.watchlist)!=null&&s.id){b.value="update-watchlist";const{updateWatchlist:x}=await n.updateWatchlist((_=(o=n.getIsOpenCreateWatchlist)==null?void 0:o.watchlist)==null?void 0:_.id,c.value,((T=a.value.find(k=>k.selected))==null?void 0:T.color)||a.value.at(0));x.error&&m.error(x.error.message),x.watchlist&&g.setWatchlistFlowSuccess(!0,x.watchlist)}},C=t=>{t&&(b.value="delete-watchlist",r.value="Deleted",n.openConfirmDeleteWatchlist(!0,t))};return J(()=>n.getIsOpenCreateWatchlist,()=>{var t,s;c.value=(s=(t=n.getIsOpenCreateWatchlist)==null?void 0:t.watchlist)==null?void 0:s.name,a.value=a.value.map(o=>{var _,T,x,k,N;return{...o,selected:(T=(_=n.getIsOpenCreateWatchlist)==null?void 0:_.watchlist)!=null&&T.color?o.color===((k=(x=n.getIsOpenCreateWatchlist)==null?void 0:x.watchlist)==null?void 0:k.color):o.color===((N=a.value.at(0))==null?void 0:N.color)}})},{immediate:!0}),(t,s)=>{const o=Me,_=Ge,T=fe;return y(p).show?(l(),f("div",xt,[y(i).open?(l(),F(o,{key:0,watchlist:y(i).watchlist,title:y(r),action:y(b)},null,8,["watchlist","title","action"])):y(d).open?(l(),F(_,{key:1,id:y(d).id},null,8,["id"])):(l(),f("div",yt,[e("h1",bt,M(y(p).type==="create"?"Create New":"Edit")+" Watchlist ",1),e("div",wt,[e("p",St,M(y(p).type==="create"?"Enter":"Edit")+" Watchlist Name:",1),e("input",{class:"text-time-grey text-base font-normal py-2 px-3 border-[1px] border-secondary-text rounded-lg w-full",type:"text",placeholder:"Watchlist 4",value:y(c),onInput:v},null,40,kt)]),e("div",$t,[Tt,e("div",Ct,[(l(!0),f(H,null,Q(y(a),(x,k)=>(l(),f("div",{key:k,onClick:N=>w(x.id)},[e("span",{class:"w-3.5 h-3.5 border-[1px] border-white cursor-pointer block rounded-full",style:K({backgroundColor:x.color,outline:x.selected?`1px solid ${x.borderColor}`:""})},null,4)],8,Pt))),128))])]),e("div",At,[e("button",{class:"py-2.5 w-full text-footer-nav font-medium mr-3 outline outline-[1px] outline-[#CFD2DB] rounded-lg",onClick:A}," Cancel "),y(p).type==="create"?(l(),f("button",{key:0,class:"py-2.5 bg-primary w-full text-white font-normal rounded-lg",onClick:h}," Create Watchlist ")):(l(),f("button",{key:1,class:"py-2.5 bg-primary w-full font-normal rounded-lg text-white",onClick:S}," Edit Watchlist "))]),y(p).type==="create"?(l(),f("div",Dt,[e("img",{src:"/img/pages/watchlist/info-large.svg",alt:"icon"},null,8,Et),Mt])):(l(),f("div",It,[e("button",{onClick:s[0]||(s[0]=x=>{var k;return C((k=y(p).watchlist)==null?void 0:k.id)}),class:"text-sm flex align-middle text-time-grey"},[R(T,{name:"img/pages/watchlist/delete",class:"inline-block w-[17px] h-[17px] mr-[8px]"}),L(" Delete Watchlist ")])]))],512))])):D("",!0)}}}),Wt={class:"relative bg-white animation-box rounded-lg max-w-[400px] w-full px-5 py-4 shadow-[0_20px_25px_-5px_rgba(0,0,0,0.1),0-10px_10px_-5px_rgba(0,0,0,0.04)]"},Bt={class:"flex items-center justify-center text-notification-other-title font-semibold"},Rt={class:"absolute right-5 top-5"},Lt=["src"],Nt={class:"w-full"},Ot=["src"],Ut=U({__name:"AddToPortfolioSuccess",props:{portfolio:{default:null},title:{default:"Added to"},action:{}},setup(I){const u=I,n=z(),g=ve(),p=ge(),d=ke(),i=()=>{var m,b;n.setPortfolioFlow(!1),n.setPortfolioFlowSuccess(!1),g.openConfirmDeletePortfolio(!1,""),g.setIsOpenCreatePortfolio(!1,"");const a=["create-portfolio","update-portfolio"],c=["delete-portfolio"],r=(m=d.query)==null?void 0:m.tag;a.includes(u.action||"")?p.push(`/portfolio/${Ae(((b=u.portfolio)==null?void 0:b.name)||"")}?${r?"tag="+r+"&":""}refresh=1`):c.includes(u.action||"")&&p.push("/portfolio/?refresh=1")};return(a,c)=>{var r,m;return l(),f("div",Wt,[e("div",null,[e("div",Bt,[L(M(a.title)+" ",1),e("span",{class:"mx-2.5 w-2.5 h-2.5 block rounded-full",style:K({background:(r=a.portfolio)==null?void 0:r.color})},null,4),L(" "+M((m=a.portfolio)==null?void 0:m.name),1)]),e("button",Rt,[e("img",{src:"/img/icons/cross.svg",alt:"cross"},null,8,Lt)])]),e("div",Nt,[e("img",{class:"w-22 mx-auto my-6",src:"/img/modals/watchlist-flow/success.svg",alt:"success"},null,8,Ot),e("button",{onClick:i,class:"py-2.5 w-10/12 mx-auto block text-white text-sm rounded-lg bg-primary"}," Done ")])])}}}),jt={key:0,class:"fixed top-0 left-0 bg-[#6B728070] w-screen h-screen flex justify-center items-center z-[105]"},Vt={key:2,ref:"modalBox",class:"bg-white animation-box overflow-hidden rounded-lg max-w-[400px] w-full px-5 py-4"},Gt={class:"text-notification-other-title text-base leading-5 font-semibold text-center"},qt={class:"mt-6"},zt={class:"text-grey font-normal mb-2"},Yt=["value"],Ht={class:"flex items-center mt-6"},Qt=e("p",{class:"text-sm w-4/12 font-medium text-footer-nav"},"Portfolio Color:",-1),Jt={class:"w-8/12 flex items-center justify-between px-6"},Xt=["onClick"],Kt={class:"flex items-center mt-6 mb-4"},Zt={key:0,class:"border-t-[1px] border-mischka flex items-center pt-2"},es=["src"],ts=e("p",{class:"font-normal text-grey ml-2 text-xs leading-4"},"To add stocks visit each stock page you wish to add",-1),ss={key:1,class:"border-t-[1px] border-mischka flex items-center pt-2"},os=U({__name:"CreatePortfolioModal",setup(I){const u=$e(),n=ve(),g=z(),p=E(()=>n.getIsOpenCreatePortfolio),d=E(()=>n.getConfirmDeletePortfolio),i=E(()=>g.getPortfolioFlowSuccess),a=$(pe),c=$(""),r=$(""),m=Z(),b=$(),v=t=>{var s;c.value=(s=t.target.value)==null?void 0:s.trim()},w=t=>{a.value=a.value.map(s=>({...s,selected:s.id===t}))},A=()=>{n.setIsOpenCreatePortfolio(!1,"")},h=async()=>{var s,o;b.value="create-portfolio";const{createPortfolio:t}=await n.createPortfolio(c.value,((s=a.value.find(_=>_.selected))==null?void 0:s.color)||a.value.at(0));t!=null&&t.error&&m.error(t.error.message),t!=null&&t.portfolio&&(r.value="Created",g.setPortfolioFlowSuccess(!0,t.portfolio)),(o=u.value)!=null&&o.config&&u.value.track(`Create portfolio: ${c.value}`)},S=async()=>{var t,s,o,_,T;if((s=(t=n.getIsOpenCreatePortfolio)==null?void 0:t.portfolio)!=null&&s.id){b.value="update-portfolio";const{updatePortfolio:x}=await n.updatePortfolio((_=(o=n.getIsOpenCreatePortfolio)==null?void 0:o.portfolio)==null?void 0:_.id,c.value,((T=a.value.find(k=>k.selected))==null?void 0:T.color)||a.value.at(0));x.error&&m.error(x.error.message),x.portfolio&&g.setPortfolioFlowSuccess(!0,x.portfolio)}},C=t=>{t&&(b.value="delete-portfolio",r.value="Deleted",n.openConfirmDeletePortfolio(!0,t))};return J(()=>n.getIsOpenCreatePortfolio,()=>{var t,s;c.value=(s=(t=n.getIsOpenCreatePortfolio)==null?void 0:t.portfolio)==null?void 0:s.name,a.value=a.value.map(o=>{var _,T,x,k,N;return{...o,selected:(T=(_=n.getIsOpenCreatePortfolio)==null?void 0:_.portfolio)!=null&&T.color?o.color===((k=(x=n.getIsOpenCreatePortfolio)==null?void 0:x.portfolio)==null?void 0:k.color):o.color===((N=a.value.at(0))==null?void 0:N.color)}})},{immediate:!0}),(t,s)=>{const o=Ut,_=qe,T=fe;return y(p).show?(l(),f("div",jt,[y(i).open?(l(),F(o,{key:0,portfolio:y(i).portfolio,title:y(r),action:y(b)},null,8,["portfolio","title","action"])):y(d).open?(l(),F(_,{key:1,id:y(d).id},null,8,["id"])):(l(),f("div",Vt,[e("h1",Gt,M(y(p).type==="create"?"Create New":"Edit")+" Portfolio ",1),e("div",qt,[e("p",zt,M(y(p).type==="create"?"Enter":"Edit")+" Portfolio Name:",1),e("input",{class:"text-time-grey text-base font-normal py-2 px-3 border-[1px] border-secondary-text rounded-lg w-full",type:"text",placeholder:"Portfolio 4",value:y(c),onInput:v},null,40,Yt)]),e("div",Ht,[Qt,e("div",Jt,[(l(!0),f(H,null,Q(y(a),(x,k)=>(l(),f("div",{key:k,onClick:N=>w(x.id)},[e("span",{class:"w-3.5 h-3.5 border-[1px] border-white cursor-pointer block rounded-full",style:K({backgroundColor:x.color,outline:x.selected?`1px solid ${x.borderColor}`:""})},null,4)],8,Xt))),128))])]),e("div",Kt,[e("button",{class:"py-2.5 w-full text-footer-nav font-medium mr-3 outline outline-[1px] outline-[#CFD2DB] rounded-lg",onClick:A}," Cancel "),y(p).type==="create"?(l(),f("button",{key:0,class:"py-2.5 bg-primary w-full text-white font-normal rounded-lg",onClick:h}," Create Portfolio ")):(l(),f("button",{key:1,class:"py-2.5 bg-primary w-full font-normal rounded-lg text-white",onClick:S}," Edit Portfolio "))]),y(p).type==="create"?(l(),f("div",Zt,[e("img",{src:"/img/pages/watchlist/info-large.svg",alt:"icon"},null,8,es),ts])):(l(),f("div",ss,[e("button",{onClick:s[0]||(s[0]=x=>{var k;return C((k=y(p).portfolio)==null?void 0:k.id)}),class:"text-sm flex align-middle text-time-grey"},[R(T,{name:"img/pages/watchlist/delete",class:"inline-block w-[17px] h-[17px] mr-[8px]"}),L(" Delete Portfolio ")])]))],512))])):D("",!0)}}}),ls={},is={class:"h-auto w-full"},rs=["src"],ns={class:"px-4 py-4 flex flex-col justify-between h-full w-full"},as=["src"],cs={class:"flex justify-between lg:mb-7"},ds=e("p",{class:"w-1/2 lg:text-[28px] text-lg leading-9 text-white-text font-bold"},"Stock Research Redefined.",-1),us={class:"w-1/2 flex justify-end"},ms=["src"],gs=e("div",{class:"flex"},[e("a",{class:"underline text-sm font-normal text-white mr-4",href:"/"},"About"),e("a",{class:"underline text-sm font-normal text-white",href:"/pricing"},"Plans")],-1);function fs(I,u){return l(),f("div",is,[e("img",{class:"lg:rounded-none rounded-t-md absolute z-[-1] h-full w-full object-cover",src:"/img/modals/gated/preview.svg",alt:"preview"},null,8,rs),e("div",ns,[e("img",{class:"w-32 mt-4",src:"/img/modals/gated/logo.svg",alt:"logo"},null,8,as),e("div",null,[e("div",cs,[ds,e("div",us,[e("img",{class:"w-14 mt-4",src:"/img/modals/gated/logo-search-updated.svg",alt:"logo"},null,8,ms)])]),gs])])])}const ps=he(ls,[["render",fs]]),_s={class:"flex items-center gap-2"},hs=["name","value","checked","onChange"],vs=U({__name:"SwitchRadioButtons",props:{height:{default:20},items:{default:()=>[]}},emits:["switchItem"],setup(I,{emit:u}){var i,a;const n=I,g=$((i=n.items)==null?void 0:i.reduce((c,r)=>c+r.id,"")),p=$((a=n.items)==null?void 0:a.findIndex(c=>c.active)),d=(c=null)=>{var r;c!==null?p.value=c:p.value=p.value>0?0:1,u("switchItem",((r=n.items[p.value])==null?void 0:r.id)||"")};return(c,r)=>(l(),f("div",_s,[c.items?(l(!0),f(H,{key:0},Q(c.items,(m,b)=>(l(),f("label",{class:q(["cursor-pointer font-medium",{"order-1":b===1,"text-grey-light-grey":y(p)!==b}])},[e("input",{type:"radio",name:y(g),value:m.id,checked:m.active,class:"appearance-none absolute w-0 h-0 z-[-1]",onChange:v=>d(b)},null,40,hs),e("span",null,M(m.title),1)],2))),256)):D("",!0),e("button",{class:"h-4 w-9 rounded-[8px] relative cursor-pointer bg-primary",style:K(`height:${c.height/5*4}px;width:${c.height/5*9}px`),onClick:r[0]||(r[0]=m=>d())},[e("span",{class:q(["block rounded-full bg-white border border-primary shadow-md absolute top-[-2px] transition-all duration-300",{"right-0":y(p),"right-full translate-x-full":!y(p)}]),style:K(`height:${c.height}px;width:${c.height}px`)},null,6)],4)]))}}),xs={class:"bg-white h-full rounded-b-md lg:rounded-r-md"},ys={class:"border-b-2 border-grey-bg-footer relative px-6 py-5 mb-1"},bs=e("p",{class:"text-footer-nav font-semibold text-center"},"Upgrade to Access",-1),ws=["src"],Ss={class:"px-5 py-6 overflow-auto text-center"},ks={key:0,class:"text-footer-nav text-2xl mt-0 mb-2 px-4"},$s=e("br",null,null,-1),Ts={key:1,class:"text-footer-nav text-2xl mt-0 mb-2 px-4"},Cs=e("br",null,null,-1),Ps={key:2,class:"text-footer-nav text-2xl mt-0 mb-2 px-4"},As={key:3,class:"text-grey-white mt-3 text-sm"},Ds=e("hr",{class:"border-iron w-[70%] mx-auto mt-7"},null,-1),Es={class:"mt-7"},Ms=["innerHTML"],Is={key:0,class:"inline-block text-grey-white text-sm translate-y-[-0.2em]"},Fs={key:0,class:"text-grey-white mt-3 text-sm"},Ws={key:1,class:"text-grey-white mt-3 text-sm"},Bs=e("p",{class:"text-grey-white text-sm"},"Cancel Anytime",-1),Rs={class:"relative"},Ls={key:0,class:"absolute top-0 left-0 w-full h-full z-1 flex items-center justify-center"},Ns=["src"],Os={key:5,class:"flex justify-center"},Us={class:"mt-8"},js={class:"text-xs leading-4 font-normal text-grey-white text-center"},Vs=U({__name:"GatedModalFormUpgradeAccess",setup(I){const u=ee(),n=z(),p=ne().getTheme;ge();const d=$([]),i=$(void 0),a=$("month"),c=$(!1),r=$(!1),m=E(()=>u.getUserPlan),b=m.value,v=[{id:"month",active:!0,title:"Monthly Billing"},{id:"year",active:!1,title:"Annual Billing"}],w=$({current:5,upgradeTo:50}),A=()=>{n.setGatedModalState(!1),n.setTargetData(!1),window.scrollTo({top:0})},h=s=>{i.value=d.value.find(o=>o.interval===s)},S=async s=>{var _,T;c.value=!0;let o="";if(m.value>1){const{data:x}=await Be.post("/graphql",{query:`query GET_BILLING_PORTAL_URL {
         me {
              billingPortalUrl
          }
      }`});o=(_=x.data.me)==null?void 0:_.billingPortalUrl}else{const{billingCheckout:x}=await u.fetchBillingCheckout(s);o=(T=x==null?void 0:x.checkout)==null?void 0:T.url}o?window.location.href=o:c.value=!1},C=s=>{if(s){const o=Ue(s.amount,s.currency,{},0);return m.value===0?'<strong class="text-3xl">7 Day Free Trial</strong>':`<sup class="text-base font-medium">${o.currency}</sup><strong class="text-3xl">${o.integer}</strong>`}return"<template></template>"},t=s=>s?je(s.amount,s.currency,{},0):"";return _e(async()=>{var _,T,x;const s=u.getUserPlan,o=u.getBillingPlans||await u.fetchBillingPlans();if(o!=null&&o.length){const k=o.find(N=>{var P;return(P=N.name)==null?void 0:P.includes(s<1?"Premium":"Pro")});d.value=k==null?void 0:k.prices,k!=null&&k.stockReportsLimit&&(w.value.upgradeTo=k==null?void 0:k.stockReportsLimit),(_=d.value)!=null&&_.length&&(i.value=d.value.find(N=>N.interval===a.value))}(T=u.getBillingStockReportsUsage)!=null&&T.limit&&(w.value.current=(x=u.getBillingStockReportsUsage)==null?void 0:x.limit)}),J(()=>n,()=>{r.value=n.getTargetData},{immediate:!0,deep:!0}),(s,o)=>{var k,N,P,O,j,Y,V;const _=vs,T=ze,x=te;return l(),f("div",xs,[e("div",ys,[bs,e("button",{onClick:A,class:"absolute right-0 top-0 mt-6 mr-5"},[e("img",{src:"/img/auth/close.svg",alt:"close"},null,8,ws)])]),e("div",Ss,[y(b)===0&&r.value?(l(),f("h1",ks,[L("Upgrade to Premium "),$s,L("for Access")])):D("",!0),y(b)===1&&r.value?(l(),f("h1",Ts,[L("Upgrade to Professional "),Cs,L("for Access")])):D("",!0),r.value?D("",!0):(l(),f("h1",Ps,"You've Hit Your Monthly Limit of "+M(w.value.current)+" Reports",1)),r.value?D("",!0):(l(),f("p",As,"Upgrade to get up to "+M(w.value.upgradeTo>=0?w.value.upgradeTo:"Unlimited")+" reports / month",1)),R(_,{items:v,class:"justify-center mt-8",style:K({color:y(p)==="dark"?"#ffffff":""}),onSwitchItem:o[0]||(o[0]=B=>h(B))},null,8,["style"]),e("p",{class:"text-center font-medium text-sm mt-2",style:K({color:y(p)==="dark"?"#ffffff":""})},"ðŸ™Œ Annual gives you 20% discount",4),Ds,i.value?(l(),f(H,{key:4},[e("p",Es,[e("span",{innerHTML:C((k=i.value)==null?void 0:k.price),style:K({color:y(p)==="dark"?"#ffffff":""})},null,12,Ms),m.value!==0?(l(),f("span",Is,"/"+M((N=i.value)==null?void 0:N.interval),1)):D("",!0)]),m.value===1||m.value===2?(l(),f("p",Fs,"Billed annually or "+M(t((O=(P=d.value)==null?void 0:P.find(B=>B.interval==="month"))==null?void 0:O.price))+" month-to-month",1)):m.value===0?(l(),f("p",Ws,"Then billed "+M(t((Y=(j=d.value)==null?void 0:j.find(B=>{var W;return B.interval===((W=i.value)==null?void 0:W.interval)}))==null?void 0:Y.price)+" "+((V=i.value)==null?void 0:V.interval)+"ly")+" after 7 day free trial.",1)):D("",!0),Bs,e("div",Rs,[c.value?(l(),f("div",Ls,[e("img",{class:"animate-spin",src:"/img/icons/mini-loader.svg",alt:"loading"},null,8,Ns)])):D("",!0),e("button",{class:q(["block bg-primary w-full mt-5 rounded-md text-white text-sm leading-5 py-[10px]",{"opacity-10":c.value}]),onClick:o[1]||(o[1]=B=>{var W;return S(((W=i.value)==null?void 0:W.id)||"")})},M(m.value===0?"Start 7 Day Free Trial Now":m.value===1?"Upgrade to Professional":"Upgrade"),3)])],64)):(l(),f("div",Os,[R(T)])),e("div",Us,[e("p",js,[L("By continuing you agree with our "),R(x,{to:"/learning/terms/privacy-policy",class:"font-semibold underline text-footer-nav whitespace-nowrap"},{default:G(()=>[L(" Privacy Policy ")]),_:1}),L(" and "),R(x,{to:"/learning/terms/terms-of-use",class:"font-semibold underline text-footer-nav whitespace-nowrap"},{default:G(()=>[L("Terms of Use")]),_:1}),L(". Any important legal disclaimer also here. ")])])])])}}}),Gs={class:"bg-white h-full rounded-b-md lg:rounded-r-md"},qs={class:"border-b-2 border-grey-bg-footer relative px-6 py-5 mb-1"},zs=e("p",{class:"text-footer-nav font-semibold text-center"},"Login or Sign up",-1),Ys=["src"],Hs={class:"px-5 py-6 max-h-[400px] lg:max-h-[460px] overflow-auto"},Qs={class:"text-footer-nav text-2xl mt-0 mb-2"},Js=e("p",{class:"text-sm text-footer-nav"},[L("Click to create a completely free account with"),e("br",{class:"hidden lg:block"}),L(" just your email and password")],-1),Xs=e("div",{class:"box-border mt-5 mb-2 relative flex justify-center"},[e("span",{class:"text-time-grey text-sm bg-white inline-block p-2 relative z-50"},"OR"),e("div",{class:"w-full h-[1px] bg-[#CFD2DB] rounded-full absolute top-1/2 z-20"})],-1),Ks=e("span",{class:"w-full block text-center mb-4 text-xs text-grey-light-grey"},"Already have an account?",-1),Zs={class:"flex justify-center items-center gap-3 mb-4"},eo=["width","height","src","alt"],to={class:"text-xs leading-4 font-normal text-grey-white text-center"},so=U({__name:"GatedModalFormSignOrLogin",setup(I){const u=ee(),n=z(),g=E(()=>{var r,m,b,v;return(v=(b=(m=(r=u.getBillingPlans)==null?void 0:r[0])==null?void 0:m.prices)==null?void 0:b[1])==null?void 0:v.id});console.log("premiumBillingPlanId",g.value);const p=$([{icon:"google",text:"Continue with Google",width:20,height:20,id:1},{icon:"apple",text:"Continue with Apple",width:20,height:23,id:2},{icon:"facebook",text:"Continue with Facebook",width:23,height:24,id:3}]),d=E(()=>n.getSignInLoginFormTitleTextLines),i=()=>{n.setGatedModalState(!1),window.scrollTo({top:0})},a=async()=>{localStorage.setItem("goToCheckout",g.value),await u.loginUser(!0)},c=async()=>{localStorage.setItem("goToCheckout",g.value),await u.loginUser()};return _e(async()=>{u.getBillingPlans||await u.fetchBillingPlans()}),(r,m)=>{const b=te;return l(),f("div",Gs,[e("div",qs,[zs,e("button",{onClick:i,class:"absolute right-0 top-0 mt-6 mr-5"},[e("img",{src:"/img/auth/close.svg",alt:"close"},null,8,Ys)])]),e("div",Hs,[e("h1",Qs,[(l(!0),f(H,null,Q(d.value,(v,w)=>(l(),f("span",{class:"inline lg:block",key:w},M(v+(w!==d.value.length-1?" ":"")),1))),128))]),Js,e("button",{onClick:a,class:"bg-primary w-full mt-5 rounded-md text-white text-sm leading-5 py-[10px]"},"Create an Account "),Xs,Ks,e("button",{onClick:c,class:"text-black hover:bg-icon-bg w-full rounded-md text-sm leading-5 py-[10px] mb-4 border-[1px] border-[#CFD2DB] font-medium"}," Sign In "),e("div",Zs,[(l(!0),f(H,null,Q(p.value,v=>(l(),f("button",{type:"button",key:v.id,class:q({"mt-[-3px]":v.icon==="apple"})},[e("img",{width:v.width,height:v.height,src:`/img/auth/${v.icon}.svg`,alt:v.text},null,8,eo)],2))),128))]),e("div",null,[e("p",to,[L("By continuing you agree with our "),R(b,{to:"/learning/terms/privacy-policy",class:"font-semibold underline text-footer-nav whitespace-nowrap"},{default:G(()=>[L(" Privacy Policy ")]),_:1}),L(" and "),R(b,{to:"/learning/terms/terms-of-use",class:"font-semibold underline text-footer-nav whitespace-nowrap"},{default:G(()=>[L("Terms of Use ")]),_:1}),L(" . Any important legal disclaimer also here. ")])])])])}}}),oo={key:0,class:"fixed top-0 left-0 bg-[#6B728070] backdrop-blur-sm w-screen h-screen flex justify-center items-center z-[1000]"},lo={class:"animation-box flex flex-col lg:flex-row h-auto max-w-[700px] lg:mx-auto mx-3 w-full"},io={class:"lg:w-5/12 relative w-full flex"},ro={class:"lg:w-7/12 h-auto"},no=U({__name:"GatedModal",setup(I){const u=z(),n=E(()=>u.getGatedModalState),g=JSON.parse(localStorage.getItem("is-user-auth")||"false");return(p,d)=>{const i=ps,a=Vs,c=so;return n.value?(l(),f("div",oo,[e("div",lo,[e("div",io,[R(i)]),e("div",ro,[y(g)?(l(),F(a,{key:0})):(l(),F(c,{key:1}))])])])):D("",!0)}}}),ao={key:0,class:"fixed top-0 left-0 bg-[#6B728070] backdrop-blur-sm w-screen h-screen flex justify-center items-center z-[105]"},co={ref:"modalBox",class:"bg-white animation-box rounded-lg max-w-[900px] mx-4 max-h-[95vh] overflow-auto w-full p-6"},uo={class:"flex items-center justify-between border-b-2 border-grey-bg-footer pb-4"},mo=["src"],go={class:"mt-4"},fo={class:"text-footer-nav text-xl font-light pb-2"},po={key:0,class:"text-grey text-sm font-light"},_o={class:"mt-7"},ho=e("p",{class:"text-footer-nav text-xl font-light mb-3"},"Companies viewed:",-1),vo={class:"border-[1px] border-grey-bg-footer rounded-2xl overflow-hidden"},xo=e("div",{class:"flex items-center bg-icon-bg text-left text-grey text-xs font-semibold"},[e("p",{class:"w-5/12 border-r-[1px] border-grey-bg-footer p-3"},"COMPANY"),e("p",{class:"w-7/12 p-3"},"INDEX/SYMBOL")],-1),yo={class:"min-h-[120px] bg-white"},bo={class:"w-5/12 text-footer-nav pl-6 border-r-[1px] border-grey-bg-footer py-2"},wo={class:"w-7/12 pl-6 text-grey py-2 flex justify-between"},So=U({__name:"FreePlanLimits",setup(I){const u=z(),n=E(()=>u.getFreePlanDetails);oe();const g=ee(),p=E(()=>g.getUserPlan),d=E(()=>{var a;return(a=g.getUser)==null?void 0:a.billingSubscription}),i=E(()=>g.getBillingStockReportsUsage);return(a,c)=>{var b,v,w,A,h,S,C,t,s,o,_,T;const r=te,m=Ye;return n.value?(l(),f("div",ao,[e("div",co,[e("div",uo,[e("p",null,"Your "+M(d.value?(v=(b=d.value)==null?void 0:b.plan)==null?void 0:v.name:"Free-Plan")+" Limits",1),e("button",{onClick:c[0]||(c[0]=x=>y(u).setFreePlanDetails(!1))},[e("img",{src:"/img/icons/cross.svg",alt:"cross"},null,8,mo)])]),e("div",go,[e("p",fo,M(d.value?(A=(w=d.value)==null?void 0:w.plan)==null?void 0:A.name:"Free plan"),1),p.value<2?(l(),f("p",po,"In this plan you can view up to "+M((h=i.value)==null?void 0:h.limit)+" companies in each this month. This list resets every 1st of month. You have remaining "+M((S=i.value)==null?void 0:S.totalAvailable)+"/"+M((C=i.value)==null?void 0:C.limit)+" companies from your free plan. ",1)):D("",!0),e("div",_o,[ho,e("div",vo,[xo,e("div",yo,[(o=(s=(t=i.value)==null?void 0:t.viewedStocks)==null?void 0:s.nodes)!=null&&o.length?(l(!0),f(H,{key:0},Q((T=(_=i.value)==null?void 0:_.viewedStocks)==null?void 0:T.nodes,(x,k)=>{var N;return l(),f("div",{class:"flex items-center text-sm border-b-[1px] border-grey-bg-footer",key:k},[e("div",bo,M(x.name),1),e("div",wo,[e("span",null,M((N=x==null?void 0:x.exchange)==null?void 0:N.name)+"/"+M(x.symbol),1),R(r,{to:"/company/"+x.symbol.toLowerCase(),onClick:c[1]||(c[1]=P=>y(u).setFreePlanDetails(!1)),class:"underline underline-offset-4 text-time-grey mr-6"},{default:G(()=>[L("View")]),_:2},1032,["to"])])])}),128)):D("",!0)])])]),p.value?D("",!0):(l(),F(m,{key:1,class:"mt-4"})),e("button",{onClick:c[2]||(c[2]=x=>y(u).setFreePlanDetails(!1)),class:"py-2.5 px-3 border-[1px] border-[#CFD2DB] rounded-lg text-footer-nav mx-auto w-60 mt-9 block"},"Close")])],512)])):D("",!0)}}}),ko=e("h2",{class:"text-base secondary-text-bold font-semibold pt-[15px]"},"Existing Triggers:",-1),$o={class:"text-sm py-1 relative inline-block pr-[30px]"},To=["onClick"],Co=["src"],de=U({__name:"ExistingTriggers",props:{existTriggers:{default:()=>({})}},setup(I){return(u,n)=>(l(),f("div",null,[ko,(l(!0),f(H,null,Q(u.existTriggers.items,g=>(l(),f("div",null,[e("p",$o,[L(M(g.title)+" : ",1),e("b",null,M(g.rule),1),e("button",{class:"h-6 w-6 rounded-[4px] hover:bg-icon-bg transition-all duration-500 flex items-center justify-center absolute top-[50%] right-0 translate-y-[-50%]",onClick:p=>u.$emit("deleteTriggerId",g.id)},[e("img",{src:"/img/pages/profile/delete.svg",alt:"Delete icon"},null,8,Co)],8,To)])]))),256))]))}}),Po=I=>(we("data-v-6ea4a53b"),I=I(),Se(),I),Ao={class:"h-full flex flex-col justify-between pt-7"},Do={class:"border-t-[1px] border-grey-bg-footer"},Eo={class:"sm:flex items-center pt-3"},Mo={class:"flex w-full sm:w-1/2"},Io={class:"flex items-center"},Fo={class:"text-sm pl-1"},Wo={class:"flex w-full mt-4 sm:mt-0 sm:w-1/2 sm:justify-end"},Bo=Po(()=>e("span",{class:"text-time-grey pr-2 text-xs"},"Manage existing triggers in Profile",-1)),Ro=["src"],Lo=U({__name:"TriggerFlowWrapper",props:{isSomeoneSelected:{type:Boolean,default:!1}},emits:["notifySettings"],setup(I,{emit:u}){const n=ee(),g=E(()=>n.getUser),p=z(),d=$([{id:0,title:"SMS",selected:!1},{id:1,title:"Email",selected:!0},{id:2,title:"In Summary",selected:!0}]);return J(()=>d.value,()=>{u("notifySettings",d.value)},{deep:!0,immediate:!0}),(i,a)=>{const c=fe,r=ce,m=te;return l(),f("div",Ao,[Re(i.$slots,"default",{},void 0,!0),e("div",Do,[e("div",Eo,[e("div",Mo,[e("div",Io,[(l(!0),f(H,null,Q(d.value,(b,v)=>{var w;return l(),f("div",{key:v,class:q(["flex items-center mr-7 text-time-grey","text-footer-nav"])},[v===0&&!((w=g.value)!=null&&w.phoneVerified)?(l(),F(c,{key:0,class:"text-grey-light-grey w-[14px] h-[14px]",name:"img/modals/trigger-flow/sms-none"})):(l(),F(r,{key:1,active:b.selected,onChangeCheck:A=>b.selected=!b.selected,class:q("bg-time-primary border-time-primary")},null,8,["active","onChangeCheck"])),e("span",Fo,M(b.title),1)])}),128))])]),e("div",Wo,[R(m,{class:"flex items-center p-1 pl-2 border-[1px] border-grey-bg-footer rounded-2xl",to:"/profile?tag=triggers&subtag=triggers",onClick:a[0]||(a[0]=b=>y(p).setTriggerFlow(!1))},{default:G(()=>[Bo,e("img",{class:"rotate-[-45deg]",src:"/img/icons/arrow-with-line.svg",alt:"right arrow"},null,8,Ro)]),_:1})])])])])}}});const ue=he(Lo,[["__scopeId","data-v-6ea4a53b"]]),No=e("h2",{class:"text-base text-black font-semibold"},"EquitySet Fair Value",-1),Oo={class:"text-sm"},Uo=e("span",{class:"mx-2 text-sm"},"Alert me when Market Price is ",-1),jo=e("span",{class:"mx-2 text-sm"},"EquitySet Fair Value",-1),Vo={class:"mt-9"},Go=e("h2",{class:"text-base text-black font-semibold"},"Analyst Price Target",-1),qo={class:"text-sm"},zo={class:"flex items-center"},Yo=e("span",{class:"text-grey-light-grey mx-2 text-sm"},"Alert me when Market Price is ",-1),Ho=e("span",{class:"text-grey-light-grey mx-2 text-sm"},"Analyst Price Target",-1),Qo=U({__name:"MarketPrice",emits:["triggerFairValuePrice","isSmthSelected"],setup(I,{emit:u}){const n=se(),g=Z(),p=$(!1),d=$({alertWhenFair:!1,alertWhenCoincidence:!1}),i=$({active:"",items:["90% Below","80% Below","70% Below","60% Below","50% Below","40% Below","30% Below","20% Below","10% Below","5% Below","4% Below","3% Below","2% Below","1% Below","Equals","1% Above","2% Above","3% Above","4% Above","5% Above","10% Above","20% Above","30% Above","40% Above","50% Above","60% Above","70% Above","80% Above","90% Above"]}),a=$({active:"",items:["90% Below","80% Below","70% Below","60% Below","50% Below","40% Below","30% Below","20% Below","10% Below","5% Below","4% Below","3% Below","2% Below","1% Below","Equals","1% Above","2% Above","3% Above","4% Above","5% Above","10% Above","20% Above","30% Above","40% Above","50% Above","60% Above","70% Above","80% Above","90% Above"]}),c=$({data:[{checked:!1,rule:null,notifySMS:!1,notifyEmail:"",notifySummary:"",type:"FAIR_VALUE"},{checked:!1,rule:null,notifySMS:!1,notifyEmail:"",notifySummary:"",type:"ANALYST_FAIR_VALUE"}]}),r=t=>{let s;return t.includes("% Below")?s=parseFloat(t.replace("% Below",""))*-1:t.includes("% Above")?s=parseFloat(t.replace("% Above","")):s=0,s},m=t=>{i.value.active=t,c.value.data[0].rule=r(t)},b=t=>{console.log(t),a.value.active=t,c.value.data[1].rule=r(t)};u("triggerFairValuePrice",c.value);const v=$(),w=t=>{v.value=t,c.value.data[0].notifySMS=t[0].selected,c.value.data[0].notifyEmail=t[1].selected,c.value.data[0].notifySummary=t[2].selected,c.value.data[1].notifySMS=t[0].selected,c.value.data[1].notifyEmail=t[1].selected,c.value.data[1].notifySummary=t[2].selected},A=$(0),h=$(0);J(()=>a.value,()=>{d.value.alertWhenCoincidence=!!a.value.active},{deep:!0}),J(()=>i.value,()=>{d.value.alertWhenFair=!!i.value.active},{deep:!0}),J(()=>d.value,t=>{const s=Object.values(t);p.value=s.some(o=>o),u("isSmthSelected",p.value),c.value.data[0].checked=t.alertWhenFair,c.value.data[1].checked=t.alertWhenCoincidence},{deep:!0});const S=$({items:[]});le(async()=>{var _,T,x,k,N,P,O;const t=await n.fetchNumericTriggers(),s=n.getCompanyTrigger;t.triggers.nodes.forEach(function(j){var Y,V,B,W,X,ie,re,xe;if(j.ruleset.type==="ANALYST_FAIR_VALUE"&&j.stock.symbol===s.symbol||j.ruleset.type==="FAIR_VALUE"&&j.stock.symbol===s.symbol){let me="";((V=(Y=j.ruleset)==null?void 0:Y.numericDirection)==null?void 0:V.trendDirection)==="NEGATIVE"?me=(((W=(B=j.ruleset)==null?void 0:B.numericDirection)==null?void 0:W.mathAmount)*-100).toString()+"% Below":((ie=(X=j.ruleset)==null?void 0:X.numericDirection)==null?void 0:ie.trendDirection)==="POSITIVE"?me=(((xe=(re=j.ruleset)==null?void 0:re.numericDirection)==null?void 0:xe.mathAmount)*100).toString()+"% Above":me="Equals";const Ie={id:j.id,title:"Market Price is ",rule:me};S.value.items.push(Ie)}});const o=(_=n.getStockData)==null?void 0:_.stock;A.value=Ve((x=(T=o==null?void 0:o.equitysetRating)==null?void 0:T.fairValue)==null?void 0:x.amount,(N=(k=o==null?void 0:o.quote)==null?void 0:k.price)==null?void 0:N.amount)||0,h.value=((O=(P=o==null?void 0:o.analystRatingSummary)==null?void 0:P.ratingPercent)==null?void 0:O.mathAmount)*100||0});const C=async t=>{const s=await n.deleteTrigger(t);s.error?g.error(s.error.message):S.value.items=S.value.items.filter(function(o){return o.id!==t})};return(t,s)=>{const o=ce,_=De,T=de,x=ue;return l(),F(x,{"is-someone-selected":p.value,onNotifySettings:w},{default:G(()=>[e("div",null,[e("div",{class:q(["",A.value?"":"text-time-grey"])},[No,e("p",Oo,[L("Current Difference "),e("b",null,M(A.value.toFixed(2))+"% "+M(A.value>0?"Below":"Above"),1)])],2),e("div",{class:q(["flex items-center",A.value?"text-grey-light-grey":"text-time-grey"])},[R(o,{active:d.value.alertWhenFair,class:q(A.value?"":"pointer-events-none"),onChangeCheck:s[0]||(s[0]=k=>d.value.alertWhenFair=!d.value.alertWhenFair)},null,8,["active","class"]),Uo,R(_,{class:q(["md:mt-0 mt-5 min-w-[120px]",A.value?"":"pointer-events-none opacity-50"]),placeholder:"Select",selected:i.value.active,items:i.value.items,"has-slot":"",onChangeActiveTimeSelect:m},null,8,["class","selected","items"]),jo],2),e("div",Vo,[Go,e("p",qo,[L("Current Difference "),e("b",null,M(h.value.toFixed(2))+"% "+M(h.value>0?"Below":"Above"),1)])]),e("div",zo,[R(o,{active:d.value.alertWhenCoincidence,onChangeCheck:s[1]||(s[1]=k=>d.value.alertWhenCoincidence=!d.value.alertWhenCoincidence)},null,8,["active"]),Yo,R(_,{class:"md:mt-0 mt-5 min-w-[120px]",placeholder:"Select",selected:a.value.active,items:a.value.items,"has-slot":"",onChangeActiveTimeSelect:b},null,8,["selected","items"]),Ho]),S.value.items.length>0?(l(),F(T,{key:0,"exist-triggers":S.value,onDeleteTriggerId:C},null,8,["exist-triggers"])):D("",!0)])]),_:1},8,["is-someone-selected"])}}});const Jo={class:"flex items-center"},Xo=e("span",{class:"text-grey-light-grey mx-2 text-sm"},"Alert me when price moves ",-1),Ko=e("span",{class:"text-grey-light-grey mx-2 text-sm"},"from current price",-1),Zo=U({__name:"StockPrice",emits:["triggerStockPrice","isSmthSelected"],setup(I,{emit:u}){var A,h,S;const n=se(),g=oe(),p=Z(),d=$({checked:!1,rule:null,notifySMS:!1,notifyEmail:"",notifySummary:"",type:"QUOTE"}),i=C=>{m.value.active=C,d.value.rule=parseFloat(C.replace("%",""))};u("triggerStockPrice",d.value);const a=C=>{d.value.notifySMS=C[0].selected,d.value.notifyEmail=C[1].selected,d.value.notifySummary=C[2].selected},c=$(!1),r=$({alertWhenStockPrice:!1}),m=$({active:"",items:["+50%","+40%","+30%","+20%","+10%","+5%","+3%","-3%","-4%","-5%","-10%","-20%","-30%","-40%","-50%"]});J(()=>r.value,C=>{const t=Object.values(C);c.value=t.some(s=>s),d.value.checked=C.alertWhenStockPrice,u("isSmthSelected",c.value)},{deep:!0});const b=(S=(h=(A=g.getIndividualStock)==null?void 0:A.data)==null?void 0:h.stock)==null?void 0:S.symbol,v=$({items:[]});le(async()=>{(await n.fetchNumericTriggers()).triggers.nodes.forEach(function(t){if(t.ruleset.type==="QUOTE"&&t.stock.symbol===b){const s={id:t.id,title:"Price moves to ",rule:(t.ruleset.numericDirection.trendDirection==="POSITIVE"?"+":"")+t.ruleset.numericDirection.mathAmount*100+"%"};v.value.items.push(s)}})});const w=async C=>{const t=await n.deleteTrigger(C);t.error?p.error(t.error.message):v.value.items=v.value.items.filter(function(s){return s.id!==C})};return(C,t)=>{const s=ce,o=De,_=de,T=ue;return l(),F(T,{"is-someone-selected":c.value,onNotifySettings:a},{default:G(()=>[e("div",null,[e("div",Jo,[R(s,{active:r.value.alertWhenStockPrice,onChangeCheck:t[0]||(t[0]=x=>r.value.alertWhenStockPrice=!r.value.alertWhenStockPrice)},null,8,["active"]),Xo,R(o,{class:"md:mt-0 mt-5",placeholder:"Select",selected:m.value.active,items:m.value.items,"has-slot":"",onChangeActiveTimeSelect:i},null,8,["selected","items"]),Ko]),v.value.items.length>0?(l(),F(_,{key:0,"exist-triggers":v.value,onDeleteTriggerId:w},null,8,["exist-triggers"])):D("",!0)])]),_:1},8,["is-someone-selected"])}}}),el={class:"flex items-center"},tl={class:"flex items-center mt-10"},sl=e("span",{class:"text-grey-light-grey mx-2 text-sm"},"Alert me when Analysts Rating changes to",-1),ol={class:"text-sm"},ll=U({__name:"StockRating",emits:["triggerStockRating","isSmthSelected"],setup(I,{emit:u}){var h,S,C;const n=oe(),g=se(),p=Z(),d=$(!1),i=$({alertEquity:!1,alertRating:!1}),a=E(()=>{var t,s,o;return(o=(s=(t=g.getStockData)==null?void 0:t.stock)==null?void 0:s.analystRatingSummary)==null?void 0:o.rating}),c=$({checked:!1,rule:null,direction:"ANY",rating:a.value,notifySMS:!1,notifyEmail:!1,notifySummary:!1,type:"ANALYST_RATING"}),r=$([{id:1,selects:[{id:1,selected:!1,title:"Alert me when Equityset Rating changes",direction:"ANY",notifySMS:!1,notifyEmail:!1,notifySummary:!1,rating:"SELL"}]},{id:2,selects:[{id:1,title:"Buy"+(a.value==="BUY"||a.value==="STRONG_BUY"?" (Current Rating)":""),direction:"GTEQ",disabled:a.value==="BUY"||a.value==="STRONG_BUY",selected:!1,notifySMS:!1,notifyEmail:!1,notifySummary:!1,rating:"BUY"},{id:2,title:"Hold"+(a.value==="HOLD"?" (Current Rating)":""),direction:"ANY",disabled:a.value==="HOLD",selected:!1,notifySMS:!1,notifyEmail:!1,notifySummary:!1,rating:"HOLD"},{id:3,title:"Sell"+(a.value==="SELL"||a.value==="STRONG_SELL"?" (Current Rating)":""),direction:"LTEQ",disabled:a.value==="SELL"||a.value==="STRONG_SELL",selected:!1,notifySMS:!1,notifyEmail:!1,notifySummary:!1,rating:"SELL"}]}]);u("triggerStockRating",r.value);const m=t=>{r.value[1].selects=r.value[1].selects.map(s=>({...s,selected:s.id===t.id})),i.value.alertRating=!0},b=t=>{r.value[0].selects[0].notifySMS=t[0].selected,r.value[0].selects[0].notifyEmail=t[1].selected,r.value[0].selects[0].notifySummary=t[2].selected,r.value[1].selects[0].notifySMS=t[0].selected,r.value[1].selects[0].notifyEmail=t[1].selected,r.value[1].selects[0].notifySummary=t[2].selected,r.value[1].selects[1].notifySMS=t[0].selected,r.value[1].selects[1].notifyEmail=t[1].selected,r.value[1].selects[1].notifySummary=t[2].selected,r.value[1].selects[2].notifySMS=t[0].selected,r.value[1].selects[2].notifyEmail=t[1].selected,r.value[1].selects[2].notifySummary=t[2].selected,c.value.notifySummary=t[1].selected};J(()=>i.value,t=>{const s=Object.values(t);d.value=s.some(o=>o),r.value[0].selects[0].selected=t.alertEquity,u("isSmthSelected",d.value)},{deep:!0});const v=(C=(S=(h=n.getIndividualStock)==null?void 0:h.data)==null?void 0:S.stock)==null?void 0:C.symbol,w=$({items:[]});le(async()=>{(await g.fetchRatingTriggers()).triggers.nodes.forEach(function(s){if(s.stock.symbol===v&&(s.ruleset.ratingDirection==="GTEQ"||s.ruleset.ratingDirection==="LTEQ"||s.ruleset.ratingDirection==="ANY")){const o={id:s.id,title:"Rating change ",rule:s.ruleset.ratingDesired};w.value.items.push(o)}})});const A=async t=>{const s=await g.deleteTrigger(t);s.error?p.error(s.error.message):w.value.items=w.value.items.filter(function(o){return o.id!==t})};return(t,s)=>{const o=ce,_=Ee,T=de,x=ue;return l(),F(x,{"is-someone-selected":d.value,onNotifySettings:b},{default:G(()=>[e("div",null,[e("div",el,[R(o,{active:i.value.alertEquity,onChangeCheck:s[0]||(s[0]=k=>i.value.alertEquity=!i.value.alertEquity)},null,8,["active"]),e("span",{class:q([{"text-footer-nav":i.value.alertEquity},"text-grey-light-grey mx-2 text-sm"])},"Alert me when Analyst Rating changes",2)]),e("div",tl,[R(o,{active:i.value.alertRating,onChangeCheck:s[1]||(s[1]=k=>i.value.alertRating=!i.value.alertRating)},null,8,["active"]),sl,R(_,{class:"w-auto md:mt-0 mt-2 min-w-[180px]",placeholder:"Select",items:r.value[1].selects,onChangeItem:m},null,8,["items"])]),e("p",ol,[L("Current Rating : "),e("b",null,M(y(a).replace("STRONG_","")),1)]),w.value.items.length>0?(l(),F(T,{key:0,"exist-triggers":w.value,class:"pt-2",onDeleteTriggerId:A},null,8,["exist-triggers"])):D("",!0)])]),_:1},8,["is-someone-selected"])}}}),il=e("p",{class:"text-notification-other-title text-sm mb-2"},"Get alerted when",-1),rl={key:0,class:"text-xs text-grey-light-grey mt-1"},nl={class:"text-footer-nav font-bold"},al={key:0,class:"flex"},cl=e("span",{class:"text-base text-black font-normal mx-4 pt-2"},"Equals",-1),dl={class:"flex flex-col items-end"},ul=["onUpdate:modelValue"],ml=e("button",{class:"hidden text-primary mt-1 text-xs"},"+Add Threshold",-1),gl=["onClick"],fl=["src"],pl=e("button",{class:"text-primary text-sm absolute left-1/2 top-[-10px] translate-x-[-50%] bg-white px-6 py-3s"},"Add another ",-1),_l=[pl],hl=U({__name:"Valuation",emits:["triggerValuation","isSmthSelected"],setup(I,{emit:u}){var S,C,t;const n=oe(),g=se(),p=Z(),d=$(""),i=$(""),a=$(!1),c=$([]),r=$([{id:0,items:[{title:"(P/E) - Price to Earnings",shortTitle:"P/E",selected:!1,id:1,value:d,type:"PTE"},{title:"(P/B) - Price to Book Value",selected:!1,shortTitle:"P/B",id:2,value:i,type:"PTB"}],selectedItem:"",label:"",metric:"",rule:"",equals:0}]),m=(s,o)=>{let _=r.value.find(T=>T.id===s);_&&(_.items=_.items.map(T=>({...T,selected:T.id===o.id})),_.selectedItem=o.title,_.metric=o.value,_.label=o.shortTitle,_.rule=o.type)},b=()=>{const s=[{title:"(P/E) - Price to Earnings",shortTitle:"P/E",selected:!1,id:1,value:d,type:"PTE"},{title:"(P/B) - Price to Book Value",shortTitle:"P/B",selected:!1,id:2,value:i,type:"PTB"}],o=r.value.length?r.value[r.value.length-1].id:1,_=r.value.find(T=>T.id===o);_!=null&&_.selectedItem&&r.value.push({id:o+1,items:s,equals:0,selectedItem:""})},v=s=>{const o=r.value.findIndex(_=>_.id===s);r.value.splice(o,1)};J(()=>r.value,s=>{u("triggerValuation",{valuation:s,notification:c.value}),a.value=s.some(o=>o.selectedItem.length),u("isSmthSelected",a.value)},{deep:!0});const w=(t=(C=(S=n.getIndividualStock)==null?void 0:S.data)==null?void 0:C.stock)==null?void 0:t.symbol,A=$({items:[]});le(async()=>{var _,T,x,k,N,P,O,j,Y;(await g.fetchNumericTriggers()).triggers.nodes.forEach(function(V){var B;if(V.ruleset.type==="PTE"&&V.stock.symbol===w||V.ruleset.type==="PTB"&&V.stock.symbol===w){const W={id:V.id,title:V.ruleset.type+" is ",rule:(B=V.ruleset)==null?void 0:B.numericDirection.displayAmount};A.value.items.push(W)}});const o=(_=g.stockData)==null?void 0:_.stock;d.value=ye("pte",{price:(x=(T=o==null?void 0:o.quote)==null?void 0:T.price)==null?void 0:x.amount,quarterIncome:(N=(k=o==null?void 0:o.security)==null?void 0:k.incomeStatements)==null?void 0:N.nodes})||"",i.value=ye("ptb",{price:(O=(P=o==null?void 0:o.quote)==null?void 0:P.price)==null?void 0:O.amount,keyRatios:(Y=(j=o==null?void 0:o.security)==null?void 0:j.keyRatios)==null?void 0:Y.nodes})||""});const h=async s=>{const o=await g.deleteTrigger(s);o.error?p.error(o.error.message):A.value.items=A.value.items.filter(function(_){return _.id!==s})};return(s,o)=>{const _=Ee,T=de,x=ue;return l(),F(x,{"is-someone-selected":a.value,onNotifySettings:o[0]||(o[0]=k=>c.value=k)},{default:G(()=>[e("div",null,[il,e("div",null,[R(Le,{name:"list"},{default:G(()=>[(l(!0),f(H,null,Q(r.value,(k,N)=>(l(),f("div",{class:"bg-icon-bg py-3 px-2 flex mt-2 first-of-type:mt-0",key:N},[e("div",null,[R(_,{class:"w-auto min-w-[230px] md:mt-0 mt-2 border-[1px] border-secondary-text",placeholder:"Select Metric",items:k.items,onChangeItem:P=>m(k.id,P)},null,8,["items","onChangeItem"]),k.selectedItem?(l(),f("p",rl,[L("Current "+M(k.label)+" ",1),e("span",nl,M(k==null?void 0:k.metric),1)])):D("",!0)]),k.selectedItem?(l(),f("div",al,[cl,e("div",dl,[Te(e("input",{class:"bg-white text-footer-nav text-sm text-right p-2 rounded-md max-w-[100px] border-[1px] border-secondary-text",type:"text","onUpdate:modelValue":P=>k.equals=P},null,8,ul),[[Ce,k.equals]]),ml]),N?(l(),f("button",{key:0,class:"flex items-start pt-4 pl-10",onClick:P=>v(k.id)},[e("img",{class:"w-4",src:"/img/modals/trigger-flow/trash.svg",alt:"trash"},null,8,fl)],8,gl)):D("",!0)])):D("",!0)]))),128))]),_:1}),e("div",{onClick:b,class:"w-full h-[2px] bg-time-grey relative mt-7"},_l),A.value.items.length>0?(l(),F(T,{key:0,"exist-triggers":A.value,class:"pt-2",onDeleteTriggerId:h},null,8,["exist-triggers"])):D("",!0)])])]),_:1},8,["is-someone-selected"])}}}),vl=e("p",{class:"text-notification-other-title text-sm mb-2"},"Get alerted when",-1),xl={class:"text-footer-nav text-sm font-medium mb-4"},yl={class:"flex items-center"},bl={class:"ml-2 text-grey-light-grey text-sm font-medium"},wl={class:"text-time-grey"},Sl=U({__name:"Dividends",emits:["triggerDividends","isSmthSelected"],setup(I,{emit:u}){var v,w,A;const n=se(),g=oe(),p=Z(),d=$(!1),i=$([{id:1,sectionTitle:"Dividends",selects:[{id:1,selected:!1,title:"Day before ex-dividend date",type:"DIVIDEND",notifySMS:!1,notifyEmail:"",notifySummary:"",dateDirection:-1},{id:2,selected:!1,title:"Ex-dividend date",type:"DIVIDEND",notifySMS:!1,notifyEmail:"",notifySummary:"",dateDirection:0}]},{id:2,sectionTitle:"Earnings",selects:[{id:1,selected:!1,title:"Day before earning date",description:"",type:"EARNING",notifySMS:!1,notifyEmail:"",notifySummary:"",dateDirection:-1},{id:2,selected:!1,title:"On earnings date",description:"",type:"EARNING",notifySMS:!1,notifyEmail:"",notifySummary:"",dateDirection:0},{id:3,selected:!1,title:"Day after earning date",description:"",type:"EARNING",notifySMS:!1,notifyEmail:"",notifySummary:"",dateDirection:0}]}]),a=$(),c=h=>{a.value=h,i.value[0].selects[0].notifySMS=h[0].selected,i.value[0].selects[1].notifySMS=h[0].selected,i.value[0].selects[0].notifyEmail=h[1].selected,i.value[0].selects[1].notifyEmail=h[1].selected,i.value[0].selects[0].notifySummary=h[2].selected,i.value[0].selects[1].notifySummary=h[2].selected,i.value[1].selects[0].notifySMS=h[0].selected,i.value[1].selects[1].notifySMS=h[0].selected,i.value[1].selects[2].notifySMS=h[0].selected,i.value[1].selects[0].notifyEmail=h[1].selected,i.value[1].selects[1].notifyEmail=h[1].selected,i.value[1].selects[2].notifyEmail=h[1].selected,i.value[1].selects[0].notifySummary=h[2].selected,i.value[1].selects[1].notifySummary=h[2].selected,i.value[1].selects[2].notifySummary=h[2].selected};J(()=>i.value,h=>{u("triggerDividends",i.value);const C=[...Object.values(h).map(t=>t.selects.map(s=>s.selected))].flat(1/0);d.value=C.some(t=>t),u("isSmthSelected",d.value)},{deep:!0});const r=(A=(w=(v=g.getIndividualStock)==null?void 0:v.data)==null?void 0:w.stock)==null?void 0:A.symbol,m=$({items:[]});le(async()=>{(await n.fetchDateTriggers()).triggers.nodes.forEach(function(S){if(S.ruleset.type==="DIVIDEND"&&S.stock.symbol===r||S.ruleset.type==="EARNING"&&S.stock.symbol===r){const C=S.ruleset.type.charAt(0)+S.ruleset.type.toLowerCase().slice(1);let t="";S.ruleset.type==="DIVIDEND"&&S.ruleset.dateDirection===-1?t="Day before ex-dividend date":S.ruleset.type==="DIVIDEND"&&S.ruleset.dateDirection===0?t="Ex-dividend date":S.ruleset.type==="EARNING"&&S.ruleset.dateDirection===-1?t="Before earnings date":S.ruleset.type==="EARNING"&&S.ruleset.dateDirection===0&&(t="On earnings date");const s={id:S.id,title:C,rule:t};m.value.items.push(s)}})});const b=async h=>{const S=await n.deleteTrigger(h);S.error?p.error(S.error.message):m.value.items=m.value.items.filter(function(C){return C.id!==h})};return(h,S)=>{const C=ce,t=de,s=ue;return l(),F(s,{"is-someone-selected":d.value,onNotifySettings:c},{default:G(()=>[e("div",null,[vl,e("div",null,[(l(!0),f(H,null,Q(i.value,o=>(l(),f("div",{key:o.id,class:"mt-6 border-b-[1px] border-grey-bg-footer last-of-type:border-0 pb-4"},[e("p",xl,M(o.sectionTitle),1),(l(!0),f(H,null,Q(o.selects,_=>(l(),f("div",{key:_.id+"selection",class:"mb-3"},[e("div",yl,[R(C,{onChangeCheck:T=>_.selected=!_.selected,active:_.selected},null,8,["onChangeCheck","active"]),e("p",bl,[L(M(_.title)+" ",1),e("span",wl,M(_.description),1)])])]))),128))]))),128))]),m.value.items.length>0?(l(),F(t,{key:0,"exist-triggers":m.value,onDeleteTriggerId:b},null,8,["exist-triggers"])):D("",!0)])]),_:1},8,["is-someone-selected"])}}}),kl={class:"border-b-[1px] border-grey-bg-footer pb-4"},$l={key:0},Tl={key:0,class:"flex justify-center mb-3"},Cl=["src","alt"],Pl={class:"flex justify-center item-avatar"},Al={class:"text-footer-nav font-semibold"},Dl=["src"],El={class:"md:flex justify-between mt-6"},Ml=e("span",{class:"text-secondary-text pr-2 text-xs"},"Manage existing triggers in Profile",-1),Il=["src"],Fl={key:1,class:"flex items-center justify-between"},Wl={class:"flex items-center"},Bl=["src","alt"],Rl={class:"text-base text-black font-semibold"},Ll=U({__name:"TriggerFlowHeader",props:{selectedTrigger:{default:()=>{}},isSmthSelected:{type:Boolean,default:!1},currentCompany:{default:()=>{}}},emits:["close-selected-trigger","add-trigger"],setup(I){var b;const u=I,n=ne();oe();const g=z(),p=se(),i=E(()=>n.getTheme).value,a=(b=u.currentCompany)==null?void 0:b.symbol,c=$(),r=$([]);$(E(()=>p.getLorem));const m=async()=>{c.value=await p.fetchTriggersList(),c.value.triggers.nodes.forEach(function(v){v.stock.symbol===a&&r.value.push(v)}),r.value.length};return _e(()=>{m()}),(v,w)=>{var h,S,C,t,s,o,_,T;const A=te;return l(),f("div",kl,[(h=v.selectedTrigger)!=null&&h.id?(l(),f("div",Fl,[e("button",{onClick:w[3]||(w[3]=x=>v.$emit("close-selected-trigger")),class:"text-time-grey text-sm"},"â€¹ Go Back"),e("div",Wl,[(o=v.currentCompany)!=null&&o[y(i)+"Logo"]?(l(),f("img",{key:0,width:"46",height:"46",class:"rounded-md mr-2",src:(_=v.currentCompany)==null?void 0:_[y(i)+"Logo"],alt:((T=u.currentCompany)==null?void 0:T.name)+" icon"},null,8,Bl)):D("",!0),e("p",Rl,M(v.selectedTrigger.title),1)]),e("button",{class:q([v.isSmthSelected?"bg-primary":"bg-time-grey opacity-50 cursor-none pointer-events-none","text-sm text-white py-1 px-2 rounded-lg"]),onClick:w[4]||(w[4]=x=>v.$emit("add-trigger"))},"Add Trigger",2)])):(l(),f("div",$l,[(S=v.currentCompany)!=null&&S[y(i)+"Logo"]?(l(),f("div",Tl,[e("img",{width:"46",height:"46",class:"rounded-md",src:(C=v.currentCompany)==null?void 0:C[y(i)+"Logo"],alt:((t=u.currentCompany)==null?void 0:t.symbol)+" icon"},null,8,Cl)])):D("",!0),e("div",Pl,[e("p",Al,"Triggers Setup for "+M((s=v.currentCompany)==null?void 0:s.symbol)+" ("+M(y(r).length)+")",1),e("button",{onClick:w[0]||(w[0]=x=>y(g).setTriggerFlow(!1)),class:"absolute right-6"},[e("img",{src:"/img/icons/cross.svg",alt:"cross"},null,8,Dl)])]),e("div",El,[R(A,{to:"/profile?tag=triggers&subtag=triggers",onClick:w[1]||(w[1]=x=>y(g).setTriggerFlow(!1)),class:"border-[1px] md:w-auto w-full border-mischka rounded-full py-1 px-2 flex items-center justify-between"},{default:G(()=>[Ml,e("img",{src:"/img/modals/breaking-modal/arrow-up-right.svg",alt:"arrow"},null,8,Il)]),_:1}),e("button",{onClick:w[2]||(w[2]=x=>y(g).setTriggerResetAll(!0)),class:"text-time-grey text-sm font-medium md:mt-0 mt-4"},"Reset All Triggers")])]))])}}}),Nl={class:"mt-5 h-[97%] flex flex-col justify-between"},Ol=e("p",{class:"text-time-grey font-bold text-xs"},"AVAILABLE TRIGGERS",-1),Ul=["onClick"],jl={class:"text-footer-nav font-normal"},Vl=["src"],Gl={class:"border-t-[1px] border-[#E6E7EA] flex justify-end"},ql=e("span",{class:"text-time-grey pr-2 text-xs"},"Need help? Learn more about Triggers",-1),zl=["src"],Yl=U({__name:"TriggerFlowSutup",props:{triggers:{default:()=>[]}},emits:["select-trigger"],setup(I){return(u,n)=>{const g=te;return l(),f("div",Nl,[e("div",null,[Ol,e("div",null,[(l(!0),f(H,null,Q(u.triggers,p=>(l(),f("div",{key:p.id,class:"flex justify-between border-b-[1px] border-grey-bg-footer pb-3 pt-4 cursor-pointer",onClick:d=>u.$emit("select-trigger",p)},[e("span",jl,M(p.title),1),e("img",{class:"w-2",src:"/img/table/arrow.svg",alt:"arrow"},null,8,Vl)],8,Ul))),128))])]),e("div",Gl,[R(g,{to:"/learning/triggers",class:"flex items-center mt-6"},{default:G(()=>[ql,e("img",{src:"/img/icons/arrow-with-line.svg",alt:"right arrow"},null,8,zl)]),_:1})])])}}}),Hl={key:0,id:"subscriptionModal",class:"fixed top-0 left-0 bg-whisper w-screen h-screen flex justify-center items-center z-[100]"},Ql={class:"bg-white animation-box overflow-hidden max-h-[95vh] lg:w-9/12 w-full mx-5 py-6 px-7 shadow-[0px_20px_25px_-5px_rgba(0,0,0,0.1),0px_10px_10px_-5px_rgba(0,0,0,0.04)]"},Jl={class:"flex justify-center relative"},Xl=["src"],Kl=["src"],Zl={class:"lg:mt-7 mt-3"},ei=e("p",{class:"lg:text-[36px] text-[18px] text-center font-bold text-footer-nav"},"Trigger added",-1),ti=e("p",{class:"lg:mt-6 mt-3 lg:text-lg text-sm text-center font-normal text-footer-nav"},"Congratulations!",-1),si=e("p",{class:"lg:text-sm text-xs text-grey-light-grey font-light mt-2 text-center"},"You have successfully added a new trigger",-1),oi=["src"],li={class:"lg:flex gap-6 lg:w-1/2 mx-auto mt-12"},ii=e("div",{class:"box-border my-5 relative flex justify-center lg:w-1/2 mx-auto"},[e("span",{class:"text-time-grey text-sm bg-white inline-block p-2 relative z-50"},"OR"),e("div",{class:"w-full h-[1px] bg-[#CFD2DB] rounded-full absolute top-1/2 z-20"})],-1),ri={class:"text-center"},ni=U({__name:"SuccessAddedTrigger",setup(I){const u=se(),n=z();Qe();const g=E(()=>u.getSuccessAddedTriggerModal),p=ee();E(()=>p.getUser);const d=ne();E(()=>d.getFooter);const i=()=>{u.setSuccessAddedTriggerModal(!1),n.setTriggerFlow(!1)};return(a,c)=>{const r=te;return g.value?(l(),f("div",Hl,[e("div",Ql,[e("div",Jl,[e("img",{src:"/img/profile/subscription/logo.svg",alt:"logo"},null,8,Xl),e("button",{onClick:i,class:"absolute right-0"},[e("img",{src:"/img/profile/close.svg",alt:"cross"},null,8,Kl)])]),e("div",Zl,[ei,ti,si,e("img",{class:"lg:h-[160px] lg:w-[137px] h-[80px] w-[120px] mx-auto mt-10",src:"/img/profile/subscription/check.svg",alt:"check"},null,8,oi),e("div",li,[e("button",{onClick:c[0]||(c[0]=m=>y(u).setSuccessAddedTriggerModal(!1)),class:"block text-center text-black w-full text-sm shadow-[0_1px_2px_rgba(0,0,0,0.05)] border-[1px] border-[#CFD2DB] py-2.5 px-5 rounded-lg hover:bg-icon-bg transition-all"}," Add More Triggers "),e("button",{class:"block text-center lg:mt-0 mt-4 w-full text-sm border-[1px] text-white border-primary bg-primary py-2.5 px-5 rounded-lg transition-all",onClick:i}," Close Triggers ")]),ii,e("div",ri,[R(r,{to:"/profile?tag=triggers",class:"text-center text-grey underline underline-offset-4 mx-auto"},{default:G(()=>[L("Go to Existing Triggers in Profile")]),_:1})])])])])):D("",!0)}}}),ai={key:0,class:"fixed top-0 left-0 bg-[#6B728070] backdrop-blur-sm w-screen h-screen flex justify-center md:items-center z-[105]"},ci={ref:"modalBox",class:"relative bg-white animation-box rounded-lg max-w-[800px] mx-4 md:max-h-[95vh] max-h-[83vh] overflow-hidden w-full p-6 mt-2"},di={class:"overflow-y-auto h-[65vh] relative overflow-x-hidden"},ui=U({__name:"TriggerFlow",setup(I){const u=z(),n=se(),g=ee(),p=E(()=>g.getUserPlan),d=Z(),i=E(()=>u.getTriggerFlow),a={"market-price":Qo,"stock-price":Zo,"stock-rating":ll,valuation:hl,dividends:Sl},c=$(!1),r=P=>{c.value=P},m=$({items:[{},{}]}),b=$(),v=$(),w=$({valuation:[],notification:[]}),A=$(),h=P=>{m.value.items[0]=P.data[0],m.value.items[1]=P.data[1]},S=P=>{b.value=P},C=P=>{v.value=P},t=P=>{w.value=P},s=P=>{A.value=P},o=$({selectedItem:null,items:[{id:"market-price",title:"Fair Value & Price Target Changes"},{id:"stock-price",title:"Stock Price Changes"},{id:"stock-rating",title:"Stock Rating Changes"},{id:"valuation",title:"Valuation Changes"},{id:"dividends",title:"Dividends & Earnings"}]}),_=P=>{o.value.selectedItem=P},T=()=>{o.value.selectedItem=null,c.value=!1},x=E(()=>n.getCompanyTrigger),k=E(()=>n.getLorem),N=async()=>{var j,Y;let P=!1;const O=(j=n.getCompanyTrigger)==null?void 0:j.id;switch((Y=o.value.selectedItem)==null?void 0:Y.id){case"market-price":for(const B of m.value.items)if(B.checked)if(B.rule){const{createNumericTrigger:W}=await n.createNumericTrigger(B.type,B.rule,O,B.notifyEmail,B.notifySummary,B.notifySMS);W&&(W.error?d.error(W.error.message):P=!0)}else d.error("Select Rule from dropdown");P&&(n.setSuccessAddedTriggerModal(!0),T()),P=!1;break;case"stock-price":if(b.value.checked)if(b.value.rule){const{createNumericTrigger:B}=await n.createNumericTrigger(b.value.type,b.value.rule,O,b.value.notifyEmail,b.value.notifySummary,!1);B&&(B.error?d.error(B.error.message):(P=!0,n.setLoremTest(k.value+1)))}else d.error("Select Rule from dropdown");P&&(n.setSuccessAddedTriggerModal(!0),T()),P=!1;break;case"stock-rating":for(const B of v.value)for(const W of B.selects)if(W.selected){const{createRatingTrigger:X}=await n.createRatingTrigger(W.direction,W.notifyEmail,W.rating,O,W.notifySummary,W.notifySMS);X&&(X.error?d.error(X.error.message):P=!0)}P&&n.setSuccessAddedTriggerModal(!0),P=!1;break;case"valuation":const V={sms:w.value.notification[0],email:w.value.notification[1],emailSum:w.value.notification[2]};w.value.valuation.map(async B=>{const{createNumericTrigger:W}=await n.createNumericTrigger(B.rule,B.equals,O,V.email,V.emailSum,V.sms);W&&(W.error?d.error(W.error.message):P=!0)}),P&&n.setSuccessAddedTriggerModal(!0),P=!1;break;case"dividends":for(const B of A.value)for(const W of B.selects)if(W.selected){const{createDateTrigger:X}=await n.createDateTrigger(W.dateDirection,W.type,W.notifyEmail,O,W.notifySummary,W.notifySMS);X&&(X.error?d.error(X.error.message):P=!0)}P&&n.setSuccessAddedTriggerModal(!0),P=!1;break}};return(P,O)=>{var W,X;const j=Ll,Y=He,V=Yl,B=ni;return i.value?(l(),f("div",ai,[e("div",ci,[R(j,{"selected-trigger":o.value.selectedItem,"is-smth-selected":c.value,"current-company":x.value,onCloseSelectedTrigger:T,onAddTrigger:N},null,8,["selected-trigger","is-smth-selected","current-company"]),e("div",di,[p.value?D("",!0):(l(),F(Y,{key:0,class:"mt-2 mb-5",title:"Upgrade to Premium for Access","banner-classes":"py-10 pl-6","media-width":"md:w-7/12"})),(X=(W=o.value)==null?void 0:W.selectedItem)!=null&&X.id?D("",!0):(l(),F(V,{key:1,triggers:o.value.items,onSelectTrigger:_},null,8,["triggers"])),R(Ne,{name:"list"},{default:G(()=>{var ie,re;return[(l(),F(Pe(a[(re=(ie=o.value)==null?void 0:ie.selectedItem)==null?void 0:re.id]),{onTriggerFairValuePrice:h,onTriggerStockPrice:S,onTriggerStockRating:C,onTriggerValuation:t,onTriggerDividends:s,onIsSmthSelected:r},null,32))]}),_:1})]),R(B)],512)])):D("",!0)}}}),mi={key:0,class:"fixed top-0 left-0 bg-[#6B728070] backdrop-blur-sm w-screen h-screen flex justify-center md:items-center z-[105] asdasdasd"},gi={ref:"modalBox",class:"relative bg-white animation-box rounded-lg max-w-[512px] mx-4 md:max-h-[95vh] max-h-[83vh] overflow-hidden w-full p-6 mt-2"},fi=["src"],pi=e("div",{class:"text-center mb-12"},[e("h3",null,"Are you sure?"),e("p",null,"This action will remove all triggers. You will have to setup again those triggers. This action can not be undone. ")],-1),_i={class:"flex flex-row"},hi=U({__name:"TriggerFlowResetAll",setup(I){var c,r,m;const u=se(),n=oe(),g=Z(),p=(m=(r=(c=n.getIndividualStock)==null?void 0:c.data)==null?void 0:r.stock)==null?void 0:m.symbol,d=z(),i=E(()=>d.getTriggerResetAll);E(()=>u.getLorem);const a=async()=>{var A;const w=((A=(await u.fetchTriggersList()).triggers)==null?void 0:A.nodes).filter(function(h){return h.stock.symbol===p});w&&w.forEach(async function(h){const S=await u.deleteTrigger(h.id);S.error&&g.error(S.error.message)}),d.setTriggerResetAll(!1),u.setLoremTest(0)};return(b,v)=>i.value?(l(),f("div",mi,[e("div",gi,[e("button",{onClick:v[0]||(v[0]=w=>y(d).setTriggerResetAll(!1)),class:"absolute right-6"},[e("img",{src:"/img/icons/cross.svg",alt:"cross"},null,8,fi)]),pi,e("div",_i,[e("button",{onClick:v[1]||(v[1]=w=>y(d).setTriggerResetAll(!1)),class:"w-1/2 border-[1px] text-sm rounded-md p-2 border-grey-bg-footer mr-1"},"Close"),e("button",{class:"w-1/2 border-[1px] text-sm rounded-md p-2 border-grey-bg-footer ml-1 text-red",onClick:a},"Reset All Triggers")])],512)])):D("",!0)}}),vi={class:"w-full relative"},xi=["src"],yi={key:0},bi=["onClick"],wi={class:"flex items-center"},Si={class:"text-sm text-footer-nav ml-2"},ki=e("span",{class:"text-sm font-bold text-footer-nav"},"Create: ",-1),$i={class:"ml-2 px-4 flex items-center"},Ti={class:"ml-2 text-sm text-footer-nav"},Ci=U({__name:"AddToWatchlistDropdownSearch",emits:["select-watchlist"],setup(I,{emit:u}){const n=ee(),g=ae(),p=z(),d=$(!1),i=$(""),a=$([]),c=$([]),r=$({}),m=Z(),b=()=>{c.value=a.value.filter(h=>h.name.toLowerCase().includes(i.value.toLowerCase())),d.value=!0},v=async h=>{i.value=h.name,u("select-watchlist",{watchlist:h,stockId:r.value}),A()},w=async()=>{if(i.value){const{createWatchlist:h}=await g.createWatchlist(i.value,"#1371EC");h&&(h.error&&m.error(h.error.message),h.watchlist&&(u("select-watchlist",{watchlist:h.watchlist,stockId:r.value}),A()))}},A=()=>{d.value=!1};return le(()=>{g.fetchWatchlists()}),J(()=>n.getIsLoggedIn,h=>{h&&g.fetchWatchlists()}),J(()=>g.getWatchlists,h=>{var S;r.value=(S=p.getWatchlistFlow)==null?void 0:S.stockId,h&&(h=h.map(C=>(C.stocks.includes(r.value)&&(C.isDisabled=!0),C)),a.value=h,c.value=a.value)},{deep:!0}),(h,S)=>{const C=Je;return l(),f("div",vi,[e("div",{onClick:S[1]||(S[1]=t=>d.value=!y(d)),class:q([{"!border-primary":y(d)||y(i)},"flex items-center border-[1px] border-secondary-text rounded-md px-4 py-2 justify-between cursor-pointer w-full"])},[Te(e("input",{"onUpdate:modelValue":S[0]||(S[0]=t=>Oe(i)?i.value=t:null),class:"w-full mr-2 text-footer-nav font-light bg-transparent",type:"text",onInput:b},null,544),[[Ce,y(i)]]),e("img",{class:q(["transition-all",y(d)&&"rotate-[180deg]"]),src:"/img/modals/arrow-dropdown.svg",alt:"arrow"},null,10,xi)],2),e("div",{class:q(["max-h-[200px] w-full z-[10001] shadow-md overflow-auto absolute border-[1px] border-mischka py-2.5 left-0 w-full rounded-[6px] bg-white",{hidden:!y(d)}])},[y(c).length?(l(),f("div",yi,[(l(!0),f(H,null,Q(y(c),t=>(l(),f("div",{key:t.id,class:q([{"opacity-40 pointer-events-none	cursor-none":t.premium,"pointer-events-none bg-grey-bg-footer":t.isDisabled},"flex items-center justify-between py-2.5 px-4 cursor-pointer hover:bg-icon-bg"]),onClick:s=>v(t)},[e("div",wi,[e("span",{style:K({backgroundColor:t.color}),class:"w-2.5 h-2.5 block rounded-full"},null,4),e("span",Si,M(t.name),1)]),t.premium?(l(),F(C,{key:0})):D("",!0)],10,bi))),128))])):(l(),f("div",{key:1,onClick:w,class:"px-4 py-2.5 flex items-center cursor-pointer hover:bg-icon-bg"},[ki,e("div",$i,[e("span",{class:"w-2.5 h-2.5 block rounded-full",style:K({"background-color":y(pe)[y(a).length||0].color})},null,4),e("span",Ti,M(y(i)),1)])]))],2)])}}}),Pi=""+globalThis.__publicAssetsURL("img/pages/watchlist/info-large.svg"),Ai={key:0,class:"fixed top-0 left-0 bg-[#6B728070] w-screen h-screen flex justify-center items-center z-[105]"},Di={key:1,ref:"modalBox",class:"relative bg-white animation-box rounded-lg max-w-[400px] w-full px-5 py-4"},Ei=e("h1",{class:"text-notification-other-title text-base leading-5 font-semibold text-center"},"Add to Watchlist",-1),Mi=["src"],Ii={class:"mt-6"},Fi={class:"border-t-[1px] border-mischka flex items-center pt-2"},Wi=e("img",{src:Pi,alt:"icon"},null,-1),Bi={class:"font-normal text-grey ml-2 text-xs leading-4"},Ri=U({__name:"AddToWatchlist",setup(I){const u=z(),n=ae(),g=E(()=>{var m;return(m=u.getWatchlistFlow)==null?void 0:m.open}),p=E(()=>u.getWatchlistFlowSuccess),d=$(""),i=Z(),a=()=>{u.setWatchlistFlow(!1)},c=async()=>{const{createWatchedStock:m}=await n.createWatchedStock(d.value.watchlist.id,d.value.stockId);m.error?i.error(m.error.message):(u.setWatchlistFlowSuccess(!0,m.watchlist),await n.fetchWatchlist(m.watchlist.id,"",[]))},r=m=>{d.value=m};return(m,b)=>{const v=Me,w=Ci,A=te;return y(g)?(l(),f("div",Ai,[y(p).open?(l(),F(v,{key:0,watchlist:y(p).watchlist},null,8,["watchlist"])):(l(),f("div",Di,[Ei,e("button",{onClick:a,class:"absolute right-5 top-7"},[e("img",{src:"/img/icons/cross.svg",alt:"cross"},null,8,Mi)]),e("div",Ii,[R(w,{onSelectWatchlist:r})]),e("div",{class:"flex items-center mt-6 mb-4"},[e("button",{class:"py-2.5 w-full text-footer-nav font-medium mr-3 outline outline-[1px] outline-[#CFD2DB] rounded-lg",onClick:a}," Cancel "),e("button",{class:"py-2.5 bg-primary w-full text-footer-nav font-normal rounded-lg text-white",onClick:c}," Add to Watchlist ")]),e("div",Fi,[Wi,e("p",Bi,[L(" Need help? Learn more about watchlists "),R(A,{onClick:a,class:"text-primary font-medium break-words whitespace-nowrap",to:"/learning/watchlists"},{default:G(()=>[L("here")]),_:1})])])],512))])):D("",!0)}}}),Li={key:0,class:"fixed top-0 left-0 bg-[#6B728070] w-screen h-screen flex justify-center items-center z-[1000]"},Ni={class:"animation-slideout h-full overflow-auto lg:w-1/2 w-11/12 absolute right-0 top-0 bg-white py-10"},Oi=["src"],Ui={class:"max-w-[1680px] mx-auto px-4 lg:px-8 py-1.5 text-profile-icon flex items-center flex-wrap"},ji={class:"flex items-center text-xs"},Vi={key:0,class:"mx-2"},Gi={class:"lg:px-8"},qi={key:0},zi=e("span",null,"View in Learn Section",-1),Yi=U({__name:"TermSlideout",setup(I){const u=z(),n=E(()=>u.getShowSlideout),g=E(()=>u.getSlideoutData),p=$([]);return J(()=>u.getSlideoutData,d=>{var a,c,r,m,b,v,w,A;p.value=[{title:(a=d==null?void 0:d.attributes)==null?void 0:a.title,link:""}];let i=(r=(c=d==null?void 0:d.attributes)==null?void 0:c.category)==null?void 0:r.data;for(;i;)p.value.unshift({title:(m=i==null?void 0:i.attributes)==null?void 0:m.title,link:"/learning/"+be([(b=i==null?void 0:i.attributes)==null?void 0:b.title])}),i=(A=(w=(v=i==null?void 0:i.attributes)==null?void 0:v.parents)==null?void 0:w.data)==null?void 0:A[0]},{immediate:!0}),(d,i)=>{var b,v,w,A,h,S,C,t,s,o,_,T,x,k,N,P;const a=te,c=Xe,r=Ke,m=fe;return n.value?(l(),f("div",Li,[e("div",Ni,[e("button",{onClick:i[0]||(i[0]=O=>y(u).setShowSlideout(!1)),class:"absolute right-6 top-11"},[e("img",{src:"/img/icons/cross.svg",alt:"cross"},null,8,Oi)]),e("div",Ui,[(l(!0),f(H,null,Q(p.value,(O,j)=>(l(),f("div",{key:j,class:"flex items-center"},[e("div",ji,[R(a,{class:q({"pointer-events-none":p.value.length-1===j||!O.link,"underline underline-offset-2":O.link}),to:O.link,onClick:i[1]||(i[1]=Y=>y(u).setShowSlideout(!1))},{default:G(()=>[L(M(O.title),1)]),_:2},1032,["class","to"])]),j!==p.value.length-1?(l(),f("span",Vi,"/")):D("",!0)]))),128))]),e("div",Gi,[R(c,{class:"mt-7",title:(v=(b=g.value)==null?void 0:b.attributes)==null?void 0:v.title,description:(A=(w=g.value)==null?void 0:w.attributes)==null?void 0:A.description,video:(S=(h=g.value)==null?void 0:h.attributes)==null?void 0:S.video,"title-class":"xl:text-[24px]"},null,8,["title","description","video"]),(t=(C=g.value)==null?void 0:C.attributes)!=null&&t.content?(l(),f("div",qi,[(l(!0),f(H,null,Q((o=(s=g.value)==null?void 0:s.attributes)==null?void 0:o.content,O=>(l(),F(Pe(y(Ze)[O.__component]),{key:O.id,option:O,class:"mb-10 mt-10"},null,8,["option"]))),128))])):(l(),F(r,{key:1,class:"bg-white"})),R(a,{to:`/learning/${(T=(_=g.value)==null?void 0:_.attributes)!=null&&T.slug?`terms/${(k=(x=g.value)==null?void 0:x.attributes)==null?void 0:k.slug}`:y(be)([(P=(N=g.value)==null?void 0:N.attributes)==null?void 0:P.title])}`,target:"_blank",class:"bg-white shadow-sm border border-solid border-profile-icon rounded-[6px] py-2.5 px-4 mt-[75px] inline-flex items-center gap-2"},{default:G(()=>[zi,R(m,{class:"inline-block w-5 h-5",name:"img/components/term-slideout/external-link-line"})]),_:1},8,["to"])])])])):D("",!0)}}}),hr=U({__name:"Modals",setup(I){const u=ae(),n=ve(),g=z(),p=ne(),d=tt(),i=E(()=>t.getIsModalPremiumVisible),a=E(()=>t.getIsModalErrorVisible),c=E(()=>u.getIsOpenCreateWatchlist),r=E(()=>n.getIsOpenCreatePortfolio),m=E(()=>g.getGatedModalState),b=E(()=>g.getFreePlanDetails),v=E(()=>g.getShowSlideout),w=E(()=>{var s;return(s=g.getWatchlistFlow)==null?void 0:s.open}),A=E(()=>g.getTriggerFlow),h=E(()=>g.getTriggerResetAll),S=E(()=>p.getLoading),C=E(()=>d.getCreateIdeaListState),t=ee();return E(()=>t.getIsMailSendVisible),(s,o)=>{const _=We,T=rt,x=mt,k=Ft,N=os,P=no,O=So,j=ui,Y=hi,V=Ri,B=Yi,W=et;return l(),f("div",null,[i.value?(l(),F(_,{key:0})):D("",!0),a.value?(l(),F(T,{key:1})):D("",!0),S.value?(l(),F(x,{key:2})):D("",!0),c.value.show?(l(),F(k,{key:3})):D("",!0),r.value.show?(l(),F(N,{key:4})):D("",!0),m.value?(l(),F(P,{key:5})):D("",!0),b.value?(l(),F(O,{key:6})):D("",!0),A.value?(l(),F(j,{key:7})):D("",!0),h.value?(l(),F(Y,{key:8})):D("",!0),w.value?(l(),F(V,{key:9})):D("",!0),v.value?(l(),F(B,{key:10})):D("",!0),C.value?(l(),F(W,{key:11})):D("",!0)])}}});export{hr as _};